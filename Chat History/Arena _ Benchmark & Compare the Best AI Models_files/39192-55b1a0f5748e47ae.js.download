!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._posthogChunkIds=e._posthogChunkIds||{},e._posthogChunkIds[n]="019c97ba-c7ad-7aa1-a8bc-758b1ebf8d03")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39192],{1984:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};function i(){return"CompressionStream"in globalThis}async function s(e,t=!0){try{let t=new Blob([e],{type:"text/plain"}).stream().pipeThrough(new CompressionStream("gzip"));return await new Response(t).blob()}catch(e){return t&&console.error("Failed to gzip compress data",e),null}}for(var n in r.r(o),r.d(o,{gzipCompress:()=>s,isGzipSupported:()=>i}),t.gzipCompress=o.gzipCompress,t.isGzipSupported=o.isGzipSupported,o)-1===["gzipCompress","isGzipSupported"].indexOf(n)&&(t[n]=o[n]);Object.defineProperty(t,"__esModule",{value:!0})},2221:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{PrimitiveCoercer:()=>n});let s=r(58738);class n{match(e){return(0,s.isPrimitive)(e)}coerce(e,t){return{type:"Error",value:`Primitive value captured as exception: ${String(e)}`,stack:t.syntheticException?.stack,synthetic:!0}}}for(var a in t.PrimitiveCoercer=i.PrimitiveCoercer,i)-1===["PrimitiveCoercer"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},3799:e=>{e.exports=JSON.parse('{"name":"posthog-js","version":"1.335.3","description":"Posthog-js allows you to automatically capture usage and send events to PostHog.","repository":"https://github.com/PostHog/posthog-js","author":"hey@posthog.com","license":"SEE LICENSE IN LICENSE","homepage":"https://posthog.com/docs/libraries/js","packageManager":"pnpm@10.12.4","scripts":{"clean":"rimraf lib dist react/dist","start":"pnpm build-react && NODE_OPTIONS=\\"--max-old-space-size=8192\\" pnpm build-rollup -w","dev":"tsc -b && NODE_OPTIONS=\\"--max-old-space-size=8192\\" rollup -cw","build":"tsc -b && rollup -c","package":"pnpm pack --out $PACKAGE_DEST/%s.tgz","lint":"eslint src && eslint playwright","lint:fix":"eslint src --fix && eslint playwright --fix","prettier":"prettier --write src/ functional_tests/ playwright/","prettier:check":"prettier --check src/ functional_tests/ playwright/","prepublishOnly":"pnpm check-react","check-react":"[ -d \'react/dist\' ] || { echo \'@posthog/react has not been built\'; exit 1; }","test":"pnpm test:unit && pnpm test:functional","test:unit":"jest src","test:unit:surveys":"jest \'.*survey.*.test.\'","test:functional":"jest functional_tests","test-watch":"jest --watch src","test:typecheck":"cd src/__tests__ && tsc --noEmit --project tsconfig.json","typecheck":"tsc --noEmit --project tsconfig.json","playwright":"pnpm exec playwright test --project webkit --project firefox --project chromium","playwright:integration":"pnpm exec playwright test --config playwright.config.integration.ts --project webkit --project firefox --project chromium","playwright-ui":"pnpm exec playwright test --ui --project webkit --project firefox --project chromium","playwright-webserver":"npx http-server ./ -p 2345","playwright:surveys":"pnpm exec playwright test packages/browser/playwright/mocked/surveys/* --project webkit --project firefox --project chromium","playwright:surveys:ui":"pnpm exec playwright test packages/browser/playwright/mocked/surveys/* --ui --project webkit --project firefox --project chromium","prepare":"[ -z \\"$VERCEL\\" ] && husky install || echo \\"Skipping husky install on vercel build\\"","deprecate-old-versions":"node scripts/deprecate-old-versions.mjs","check-testcafe-results":"ts-node testcafe/check-testcafe-results.js","run-testcafe-localhost":"node scripts/run-testcafe-localhost.mjs","write-mangled-property-names":"WRITE_MANGLED_PROPERTIES=1 pnpm build","generate-references":"pnpm exec api-extractor run --config ./api-extractor.json --local && node scripts/generate-docs.js"},"main":"dist/main.js","module":"dist/module.js","types":"dist/module.d.ts","files":["lib/*","dist/*","react/dist/**","react/package.json","react/surveys/package.json"],"dependencies":{"@posthog/core":"workspace:*","@posthog/types":"workspace:*","core-js":"^3.38.1","dompurify":"^3.3.1","fflate":"^0.4.8","preact":"^10.28.0","query-selector-shadow-dom":"^1.0.1","web-vitals":"^5.1.0","@opentelemetry/api":"^1.9.0","@opentelemetry/api-logs":"^0.208.0","@opentelemetry/exporter-logs-otlp-http":"^0.208.0","@opentelemetry/resources":"^2.2.0","@opentelemetry/sdk-logs":"^0.208.0"},"devDependencies":{"@babel/core":"catalog:","@babel/plugin-syntax-decorators":"catalog:","@babel/plugin-transform-exponentiation-operator":"catalog:","@babel/plugin-transform-nullish-coalescing-operator":"catalog:","@babel/plugin-transform-react-jsx":"catalog:","@babel/preset-env":"catalog:","@babel/preset-typescript":"catalog:","@jest/globals":"^29.7.0","@playwright/test":"^1.52.0","@posthog-tooling/rollup-utils":"workspace:*","@posthog/rrweb-plugin-console-record":"^0.0.36","@posthog/rrweb-record":"^0.0.36","@posthog/rrweb-types":"^0.0.36","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^28.0.6","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^16.0.1","@rollup/plugin-terser":"^0.4.4","@rollup/plugin-typescript":"^12.1.4","@rrweb/record":"2.0.0-alpha.17","@rrweb/rrweb-plugin-console-record":"2.0.0-alpha.17","@rrweb/types":"2.0.0-alpha.17","@sentry/types":"8.7.0","@testing-library/dom":"catalog:","@testing-library/jest-dom":"catalog:","@testing-library/preact":"catalog:","@types/dompurify":"^3.2.0","@types/dotenv":"^8.2.3","@types/jest":"catalog:","@types/node":"^22.5.0","@types/query-selector-shadow-dom":"^1.0.4","@types/sinon":"^17.0.1","@types/web":"^0.0.222","babel-jest":"^29.7.0","browserslist":"^4.24.5","compare-versions":"^6.1.0","cssnano":"^7.0.7","date-fns":"^3.6.0","dotenv":"^17.2.0","expect":"^29.7.0","fast-check":"^2.17.0","http-server":"14.1.1","husky":"^8.0.1","identity-obj-proxy":"^3.0.0","jest":"catalog:","jest-environment-jsdom":"catalog:","jsdom":"16.7.0","jsdom-global":"3.0.2","localStorage":"1.0.4","msw":"^1.3.3","node-fetch":"^2.6.11","postcss":"^8.5.3","postcss-import":"^16.1.0","postcss-nesting":"^13.0.1","posthog-js":"link:","preact-render-to-string":"^6.3.1","rollup":"catalog:","rollup-plugin-dts":"^6.2.3","rollup-plugin-postcss":"^4.0.2","rollup-plugin-visualizer":"^6.0.3","sinon":"9.0.2","testcafe":"^2.6.2","testcafe-browser-provider-browserstack":"^1.15.2","ts-node":"^10.9.2","tslib":"catalog:","typescript":"catalog:","yargs":"^17.7.2"},"browserslist":["> 0.5%, last 2 versions, Firefox ESR, not dead, IE 11"]}')},5453:function(e,t,r){var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.stripEmptyProperties=t.safewrapClass=t.safewrap=t.trySafe=t.include=t.extendArray=t.extend=void 0,t.eachArray=l,t.each=u,t.entries=function(e){for(var t=Object.keys(e),r=t.length,o=Array(r);r--;)o[r]=[t[r],e[t[r]]];return o},t._copyAndTruncateStrings=function(e,t){var r,o;return r=function(e){return(0,n.isString)(e)&&!(0,n.isNull)(t)?e.slice(0,t):e},o=new Set,function e(t,i){var s;return t!==Object(t)?r?r(t,i):t:o.has(t)?void 0:(o.add(t),(0,n.isArray)(t)?(s=[],l(t,function(t){s.push(e(t))})):(s={},u(t,function(t,r){o.has(t)||(s[r]=e(t,r))})),s)}(e)},t.isCrossDomainCookie=function(e){var t,r,i=null==e?void 0:e.hostname;if(!(0,n.isString)(i))return!1;var s=i.split(".").slice(-2).join(".");try{for(var a=o(c),l=a.next();!l.done;l=a.next()){var u=l.value;if(s===u)return!1}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return!0},t.find=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]},t.addEventListener=function(e,t,r,o){var i=null!=o?o:{},s=i.capture,n=i.passive;null==e||e.addEventListener(t,r,{capture:void 0!==s&&s,passive:void 0===n||n})},t.migrateConfigField=function(e,t,r,o,i){var s=t in e&&!(0,n.isUndefined)(e[t]),a=r in e&&!(0,n.isUndefined)(e[r]);return s?e[t]:a?(i&&i.warn("Config field '".concat(r,"' is deprecated. Please use '").concat(t,"' instead. ")+"The old field will be removed in a future major version."),e[r]):o};var i=r(24777),s=r(84939),n=r(75712),a={};function l(e,t,r){if((0,n.isArray)(e)){if(i.nativeForEach&&e.forEach===i.nativeForEach)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var o=0,s=e.length;o<s;o++)if(o in e&&t.call(r,e[o],o)===a)return}}}function u(e,t,r){var i,s;if(!(0,n.isNullish)(e)){if((0,n.isArray)(e))return l(e,t,r);if((0,n.isFormData)(e)){try{for(var u=o(e.entries()),c=u.next();!c.done;c=u.next()){var d=c.value;if(t.call(r,d[1],d[0])===a)return}}catch(e){i={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return}for(var p in e)if(n.hasOwnProperty.call(e,p)&&t.call(r,e[p],p)===a)return}}t.extend=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return l(t,function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},t.extendArray=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return l(t,function(t){l(t,function(t){e.push(t)})}),e},t.include=function(e,t){var r=!1;return(0,n.isNull)(e)?r:i.nativeIndexOf&&e.indexOf===i.nativeIndexOf?-1!=e.indexOf(t):(u(e,function(e){if(r||(r=e===t))return a}),r)},t.trySafe=function(e){try{return e()}catch(e){return}},t.safewrap=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return e.apply(this,t)}catch(e){s.logger.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),s.logger.critical(e)}}},t.safewrapClass=function(e,r){for(var o=0;o<r.length;o++)e.prototype[r[o]]=(0,t.safewrap)(e.prototype[r[o]])},t.stripEmptyProperties=function(e){var t={};return u(e,function(e,r){((0,n.isString)(e)&&e.length>0||(0,n.isNumber)(e))&&(t[r]=e)}),t};var c=["herokuapp.com","vercel.app","netlify.app"]},5985:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{DEFAULT_BLOCKED_UA_STRS:()=>i,isBlockedUA:()=>s});let i=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],s=function(e,t=[]){if(!e)return!1;let r=e.toLowerCase();return i.concat(t).some(e=>{let t=e.toLowerCase();return -1!==r.indexOf(t)})};for(var n in t.DEFAULT_BLOCKED_UA_STRS=o.DEFAULT_BLOCKED_UA_STRS,t.isBlockedUA=o.isBlockedUA,o)-1===["DEFAULT_BLOCKED_UA_STRS","isBlockedUA"].indexOf(n)&&(t[n]=o[n]);Object.defineProperty(t,"__esModule",{value:!0})},7627:(e,t)=>{let r;var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{UUID:()=>n,V7Generator:()=>a,uuidv4:()=>d,uuidv4obj:()=>p,uuidv7:()=>u,uuidv7obj:()=>c});let s="0123456789abcdef";class n{constructor(e){this.bytes=e}static ofInner(e){if(16===e.length)return new n(e);throw TypeError("not 128-bit length")}static fromFieldsV7(e,t,r,o){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(o)||e<0||t<0||r<0||o<0||e>0xffffffffffff||t>4095||r>0x3fffffff||o>0xffffffff)throw RangeError("invalid field value");let i=new Uint8Array(16);return i[0]=e/0x10000000000,i[1]=e/0x100000000,i[2]=e/0x1000000,i[3]=e/65536,i[4]=e/256,i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|r>>>24,i[9]=r>>>16,i[10]=r>>>8,i[11]=r,i[12]=o>>>24,i[13]=o>>>16,i[14]=o>>>8,i[15]=o,new n(i)}static parse(e){let t;switch(e.length){case 32:t=/^[0-9a-f]{32}$/i.exec(e)?.[0];break;case 36:t=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e)?.slice(1,6).join("");break;case 38:t=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(e)?.slice(1,6).join("");break;case 45:t=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e)?.slice(1,6).join("")}if(t){let e=new Uint8Array(16);for(let r=0;r<16;r+=4){let o=parseInt(t.substring(2*r,2*r+8),16);e[r+0]=o>>>24,e[r+1]=o>>>16,e[r+2]=o>>>8,e[r+3]=o}return new n(e)}throw SyntaxError("could not parse UUID string")}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=s.charAt(this.bytes[t]>>>4),e+=s.charAt(15&this.bytes[t]),(3===t||5===t||7===t||9===t)&&(e+="-");return e}toHex(){let e="";for(let t=0;t<this.bytes.length;t++)e+=s.charAt(this.bytes[t]>>>4),e+=s.charAt(15&this.bytes[t]);return e}toJSON(){return this.toString()}getVariant(){let e=this.bytes[8]>>>4;if(e<0)throw Error("unreachable");if(e<=7)return this.bytes.every(e=>0===e)?"NIL":"VAR_0";if(e<=11)return"VAR_10";if(e<=13)return"VAR_110";if(e<=15)return this.bytes.every(e=>255===e)?"MAX":"VAR_RESERVED";throw Error("unreachable")}getVersion(){return"VAR_10"===this.getVariant()?this.bytes[6]>>>4:void 0}clone(){return new n(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(let t=0;t<16;t++){let r=this.bytes[t]-e.bytes[t];if(0!==r)return Math.sign(r)}return 0}}class a{constructor(e){this.timestamp=0,this.counter=0,this.random=e??l()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(e,t){let r=this.generateOrAbortCore(e,t);return void 0===r&&(this.timestamp=0,r=this.generateOrAbortCore(e,t)),r}generateOrAbortCore(e,t){if(!Number.isInteger(e)||e<1||e>0xffffffffffff)throw RangeError("`unixTsMs` must be a 48-bit positive integer");if(t<0||t>0xffffffffffff)throw RangeError("`rollbackAllowance` out of reasonable range");if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+t>=this.timestamp))return;this.counter++,this.counter>0x3ffffffffff&&(this.timestamp++,this.resetCounter())}return n.fromFieldsV7(this.timestamp,Math.trunc(this.counter/0x40000000),this.counter&0x40000000-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}generateV4(){let e=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return e[6]=64|e[6]>>>4,e[8]=128|e[8]>>>2,n.ofInner(e)}}let l=()=>({nextUint32:()=>65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random())}),u=()=>c().toString(),c=()=>(r||(r=new a)).generate(),d=()=>p().toString(),p=()=>(r||(r=new a)).generateV4();for(var f in t.UUID=i.UUID,t.V7Generator=i.V7Generator,t.uuidv4=i.uuidv4,t.uuidv4obj=i.uuidv4obj,t.uuidv7=i.uuidv7,t.uuidv7obj=i.uuidv7obj,i)-1===["UUID","V7Generator","uuidv4","uuidv4obj","uuidv7","uuidv7obj"].indexOf(f)&&(t[f]=i[f]);Object.defineProperty(t,"__esModule",{value:!0})},10701:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{winjsStackLineParser:()=>a});let s=r(63721),n=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=(e,t)=>{let r=n.exec(e);return r?(0,s.createFrame)(t,r[2],r[1]||s.UNKNOWN_FUNCTION,+r[3],r[4]?+r[4]:void 0):void 0};for(var l in t.winjsStackLineParser=i.winjsStackLineParser,i)-1===["winjsStackLineParser"].indexOf(l)&&(t[l]=i[l]);Object.defineProperty(t,"__esModule",{value:!0})},14500:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isLocalhost=t._getHashParam=t.maskQueryParams=t.getQueryParam=t.formDataToQuery=t.convertToURL=void 0;var o=r(5453),i=r(75712),s=r(84939),n=r(24777),a=["localhost","127.0.0.1"];t.convertToURL=function(e){var t=null===n.document||void 0===n.document?void 0:n.document.createElement("a");return(0,i.isUndefined)(t)?null:(t.href=e,t)},t.formDataToQuery=function(e,t){void 0===t&&(t="&");var r,s,n=[];return(0,o.each)(e,function(e,t){(0,i.isUndefined)(e)||(0,i.isUndefined)(t)||"undefined"===t||(r=encodeURIComponent((0,i.isFile)(e)?e.name:e.toString()),s=encodeURIComponent(t),n[n.length]=s+"="+r)}),n.join(t)},t.getQueryParam=function(e,t){for(var r,o=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),n=0;n<o.length;n++){var a=o[n].split("=");if(a[0]===t){r=a;break}}if(!(0,i.isArray)(r)||r.length<2)return"";var l=r[1];try{l=decodeURIComponent(l)}catch(e){s.logger.error("Skipping decoding for malformed query param: "+l)}return l.replace(/\+/g," ")},t.maskQueryParams=function(e,t,r){if(!e||!t||!t.length)return e;for(var o=e.split("#"),s=o[0]||"",n=o[1],a=s.split("?"),l=a[1],u=a[0],c=(l||"").split("&"),d=[],p=0;p<c.length;p++){var f=c[p].split("=");(0,i.isArray)(f)&&(t.includes(f[0])?d.push(f[0]+"="+r):d.push(c[p]))}var g=u;return null!=l&&(g+="?"+d.join("&")),null!=n&&(g+="#"+n),g},t._getHashParam=function(e,t){var r=e.match(RegExp(t+"=([^&]*)"));return r?r[1]:null},t.isLocalhost=function(){return a.includes(location.hostname)}},15798:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{PromiseRejectionEventCoercer:()=>n});let s=r(58738);class n{match(e){return(0,s.isBuiltin)(e,"PromiseRejectionEvent")}coerce(e,t){let r=this.getUnhandledRejectionReason(e);return(0,s.isPrimitive)(r)?{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`,stack:t.syntheticException?.stack,synthetic:!0}:t.apply(r)}getUnhandledRejectionReason(e){if((0,s.isPrimitive)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}}for(var a in t.PromiseRejectionEventCoercer=i.PromiseRejectionEventCoercer,i)-1===["PromiseRejectionEventCoercer"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},16030:function(e,t,r){var o,i,s,n=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)0>t.indexOf(o[i])&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,s=r.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)n.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return n},l=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var o,i=0,s=t.length;i<s;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.sessionRecordingLoggerForPostHogInstance=void 0,t.browserConsoleLogger=f,t.getChangedState=g,t.posthogKeaLogger=function(e){void 0===e&&(e={});var t=y(e);return{name:"posthog-kea-logger",events:{beforeReduxStore:function(e){e.middleware.push(t)}}}},t.posthogReduxLogger=y;var c=r(75712);function d(e){var t=e.type,r=e.executionTimeMs,o=(0,c.isNullish)(r)?"":" (".concat(r.toFixed(2),"ms)");return"".concat(t).concat(o)}var p=(0,r(84939).createLogger)("[PostHog Action RateLimiting]");function f(e,t){console.log(e,t)}function g(e,t,r){if(void 0===r&&(r=5),"object"!=typeof e||"object"!=typeof t||e===t)return{};if(!e&&t)return t;if(!t||!e)return{};var o,i,s={},n=new Set(l(l([],a(Object.keys(e)),!1),a(Object.keys(t)),!1));try{for(var d=u(n),p=d.next();!p.done;p=d.next()){var f=p.value,h=e[f],y=t[f];if((0,c.isUndefined)(h)){s[f]=y;continue}if((0,c.isUndefined)(y)){s[f]=h;continue}if(h!==y&&!((0,c.isNullish)(h)&&(0,c.isNullish)(y))){if(!(0,c.isObject)(h)||!(0,c.isObject)(y)){s[f]=y;continue}if(r>1){var _=g(h,y,r-1);(0,c.isEmptyObject)(_)||(s[f]=_)}else s[f]="max depth reached, checking for changed value"}}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return s}t.sessionRecordingLoggerForPostHogInstance=function(e){return function(t,r){var o;null==(o=null==e?void 0:e.sessionRecording)||o.tryAddCustomEvent("app-state",{title:t,stateEvent:r})}};var h=(o=null,i=0,s=null,{info:function(e){s!==e&&(i=0,s=e),i++,o&&clearTimeout(o),o=setTimeout(function(){var t=i;1===t?p.info('action "'.concat(e,'" has been rate limited')):p.info('action "'.concat(e,'" has been rate limited (').concat(t," times)")),i=0,o=null},1e3)}});function y(e){void 0===e&&(e={});var t=e.maskAction,r=e.maskState,o=e.titleFunction,i=void 0===o?d:o,s=e.logger,a=void 0===s?f:s,l=e.include,u=void 0===l?{prevState:!0,nextState:!1,changedState:!0}:l,y=e.rateLimiterRefillRate,_=e.rateLimiterBucketSize,m=e.__stateComparisonDepth,v=new c.BucketedRateLimiter({refillRate:void 0===y?1:y,bucketSize:void 0===_?10:_,refillInterval:1e3,_logger:p});return function(e){return function(o){return function(s){var l=e.getState(),c=performance.now(),d=o(s),f=performance.now(),y=e.getState(),_=t?t(s):s;if(!_)return d;if(v.consumeRateLimit(s.type))h.info(s.type);else try{var P=r?r(l,_):l,S=r?r(y,_):y,b=u.changedState?g(P,S,null!=m?m:5):void 0,E=_.type,O=n(_,["type"]),R={type:E,payload:O,timestamp:Date.now(),executionTimeMs:f-c,prevState:u.prevState?P:void 0,nextState:u.nextState?S:void 0,changedState:u.changedState?b:void 0},I=i(R);a(I,R)}catch(e){p.error("Error logging state:",e)}return d}}}}},21345:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};function i(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function s(e,t=40){let r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(let e=r.length;e>0;e--){let o=r.slice(0,e).join(", ");if(!(o.length>t)){if(e===r.length)return o;return o.length<=t?o:`${o.slice(0,t)}...`}}return""}for(var n in r.r(o),r.d(o,{extractExceptionKeysForMessage:()=>s,truncate:()=>i}),t.extractExceptionKeysForMessage=o.extractExceptionKeysForMessage,t.truncate=o.truncate,o)-1===["extractExceptionKeysForMessage","truncate"].indexOf(n)&&(t[n]=o[n]);Object.defineProperty(t,"__esModule",{value:!0})},21926:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{isBoolean:()=>E,isBuiltin:()=>w,isEmptyString:()=>m,isNoLike:()=>L,isNull:()=>v,isNullish:()=>P,isError:()=>A,isEmptyObject:()=>h,hasOwnProperty:()=>u,isErrorEvent:()=>N,isNativeFunction:()=>f,isNumber:()=>S,isPlainError:()=>I,isPlainObject:()=>j,isPrimitive:()=>F,isObject:()=>g,isUndefined:()=>y,isFunction:()=>p,isArray:()=>d,isKnownUnsafeEditableEvent:()=>T,isPositiveNumber:()=>b,isString:()=>_,noLikeValues:()=>D,yesLikeValues:()=>M,isEvent:()=>x,isFile:()=>R,isYesLike:()=>k,isFormData:()=>O});let s=r(30473),n=r(35891),a=Array.isArray,l=Object.prototype,u=l.hasOwnProperty,c=l.toString,d=a||function(e){return"[object Array]"===c.call(e)},p=e=>"function"==typeof e,f=e=>p(e)&&-1!==e.toString().indexOf("[native code]"),g=e=>e===Object(e)&&!d(e),h=e=>{if(g(e)){for(let t in e)if(u.call(e,t))return!1;return!0}return!1},y=e=>void 0===e,_=e=>"[object String]"==c.call(e),m=e=>_(e)&&0===e.trim().length,v=e=>null===e,P=e=>y(e)||v(e),S=e=>"[object Number]"==c.call(e)&&e==e,b=e=>S(e)&&e>0,E=e=>"[object Boolean]"===c.call(e),O=e=>e instanceof FormData,R=e=>e instanceof File,I=e=>e instanceof Error,T=e=>(0,n.includes)(s.knownUnsafeEditableEvent,e);function F(e){return null===e||"object"!=typeof e}function w(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function A(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":case"[object WebAssembly.Exception]":return!0;default:return C(e,Error)}}function N(e){return w(e,"ErrorEvent")}function x(e){return!y(Event)&&C(e,Event)}function j(e){return w(e,"Object")}function C(e,t){try{return e instanceof t}catch{return!1}}let M=[!0,"true",1,"1","yes"],k=e=>(0,n.includes)(M,e),D=[!1,"false",0,"0","no"],L=e=>(0,n.includes)(D,e);for(var $ in t.hasOwnProperty=i.hasOwnProperty,t.isArray=i.isArray,t.isBoolean=i.isBoolean,t.isBuiltin=i.isBuiltin,t.isEmptyObject=i.isEmptyObject,t.isEmptyString=i.isEmptyString,t.isError=i.isError,t.isErrorEvent=i.isErrorEvent,t.isEvent=i.isEvent,t.isFile=i.isFile,t.isFormData=i.isFormData,t.isFunction=i.isFunction,t.isKnownUnsafeEditableEvent=i.isKnownUnsafeEditableEvent,t.isNativeFunction=i.isNativeFunction,t.isNoLike=i.isNoLike,t.isNull=i.isNull,t.isNullish=i.isNullish,t.isNumber=i.isNumber,t.isObject=i.isObject,t.isPlainError=i.isPlainError,t.isPlainObject=i.isPlainObject,t.isPositiveNumber=i.isPositiveNumber,t.isPrimitive=i.isPrimitive,t.isString=i.isString,t.isUndefined=i.isUndefined,t.isYesLike=i.isYesLike,t.noLikeValues=i.noLikeValues,t.yesLikeValues=i.yesLikeValues,i)-1===["hasOwnProperty","isArray","isBoolean","isBuiltin","isEmptyObject","isEmptyString","isError","isErrorEvent","isEvent","isFile","isFormData","isFunction","isKnownUnsafeEditableEvent","isNativeFunction","isNoLike","isNull","isNullish","isNumber","isObject","isPlainError","isPlainObject","isPositiveNumber","isPrimitive","isString","isUndefined","isYesLike","noLikeValues","yesLikeValues"].indexOf($)&&(t[$]=i[$]);Object.defineProperty(t,"__esModule",{value:!0})},23312:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{PostHogCore:()=>c});let s=r(36737),n=r(30473),a=r(78513),l=r(7627),u=r(58738);class c extends a.PostHogCoreStateless{constructor(e,t){super(e,{...t,disableGeoip:t?.disableGeoip??!1,featureFlagsRequestTimeoutMs:t?.featureFlagsRequestTimeoutMs??1e4}),this.flagCallReported={},this._sessionMaxLengthSeconds=86400,this.sessionProps={},this.sendFeatureFlagEvent=t?.sendFeatureFlagEvent??!0,this._sessionExpirationTimeSeconds=t?.sessionExpirationTimeSeconds??1800,this._personProfiles=t?.personProfiles??"identified_only",this._beforeSend=t?.before_send}setupBootstrap(e){let t=e?.bootstrap;if(!t)return;t.distinctId&&(t.isIdentifiedId?this.getPersistedProperty(n.PostHogPersistedProperty.DistinctId)||(this.setPersistedProperty(n.PostHogPersistedProperty.DistinctId,t.distinctId),this.setPersistedProperty(n.PostHogPersistedProperty.PersonMode,"identified")):this.getPersistedProperty(n.PostHogPersistedProperty.AnonymousId)||this.setPersistedProperty(n.PostHogPersistedProperty.AnonymousId,t.distinctId));let r=t.featureFlags,o=t.featureFlagPayloads??{};if(r&&Object.keys(r).length){let e=(0,s.createFlagsResponseFromFlagsAndPayloads)(r,o);if(Object.keys(e.flags).length>0){this.setBootstrappedFeatureFlagDetails(e);let t=this.getKnownFeatureFlagDetails()||{flags:{},requestId:void 0},r={flags:{...e.flags,...t.flags},requestId:e.requestId};this.setKnownFeatureFlagDetails(r)}}}clearProps(){this.props=void 0,this.sessionProps={},this.flagCallReported={}}on(e,t){return this._events.on(e,t)}reset(e){this.wrap(()=>{let t=[n.PostHogPersistedProperty.Queue,...e||[]];for(let e of(this.clearProps(),Object.keys(n.PostHogPersistedProperty)))t.includes(n.PostHogPersistedProperty[e])||this.setPersistedProperty(n.PostHogPersistedProperty[e],null);this.reloadFeatureFlags()})}getCommonEventProperties(){let e=this.getFeatureFlags(),t={};if(e)for(let[r,o]of Object.entries(e))t[`$feature/${r}`]=o;return{...(0,a.maybeAdd)("$active_feature_flags",e?Object.keys(e):void 0),...t,...super.getCommonEventProperties()}}enrichProperties(e){return{...this.props,...this.sessionProps,...e||{},...this.getCommonEventProperties(),$session_id:this.getSessionId()}}getSessionId(){if(!this._isInitialized)return"";let e=this.getPersistedProperty(n.PostHogPersistedProperty.SessionId),t=this.getPersistedProperty(n.PostHogPersistedProperty.SessionLastTimestamp)||0,r=this.getPersistedProperty(n.PostHogPersistedProperty.SessionStartTimestamp)||0,o=Date.now(),i=o-t,s=o-r;return(!e||i>1e3*this._sessionExpirationTimeSeconds||s>1e3*this._sessionMaxLengthSeconds)&&(e=(0,l.uuidv7)(),this.setPersistedProperty(n.PostHogPersistedProperty.SessionId,e),this.setPersistedProperty(n.PostHogPersistedProperty.SessionStartTimestamp,o)),this.setPersistedProperty(n.PostHogPersistedProperty.SessionLastTimestamp,o),e}resetSessionId(){this.wrap(()=>{this.setPersistedProperty(n.PostHogPersistedProperty.SessionId,null),this.setPersistedProperty(n.PostHogPersistedProperty.SessionLastTimestamp,null),this.setPersistedProperty(n.PostHogPersistedProperty.SessionStartTimestamp,null)})}getAnonymousId(){if(!this._isInitialized)return"";let e=this.getPersistedProperty(n.PostHogPersistedProperty.AnonymousId);return e||(e=(0,l.uuidv7)(),this.setPersistedProperty(n.PostHogPersistedProperty.AnonymousId,e)),e}getDistinctId(){return this._isInitialized?this.getPersistedProperty(n.PostHogPersistedProperty.DistinctId)||this.getAnonymousId():""}registerForSession(e){this.sessionProps={...this.sessionProps,...e}}unregisterForSession(e){delete this.sessionProps[e]}identify(e,t,r){this.wrap(()=>{if(!this._requirePersonProcessing("posthog.identify"))return;let o=this.getDistinctId();e=e||o,t?.$groups&&this.groups(t.$groups);let i=t?.$set_once;delete t?.$set_once;let s=t?.$set||t,l=this.enrichProperties({$anon_distinct_id:this.getAnonymousId(),...(0,a.maybeAdd)("$set",s),...(0,a.maybeAdd)("$set_once",i)});e!==o&&(this.setPersistedProperty(n.PostHogPersistedProperty.AnonymousId,o),this.setPersistedProperty(n.PostHogPersistedProperty.DistinctId,e),this.setPersistedProperty(n.PostHogPersistedProperty.PersonMode,"identified"),this.reloadFeatureFlags()),super.identifyStateless(e,l,r)})}capture(e,t,r){this.wrap(()=>{let o=this.getDistinctId();t?.$groups&&this.groups(t.$groups);let i=this.enrichProperties(t),s=this._hasPersonProcessing();i.$process_person_profile=s,i.$is_identified=this._isIdentified(),s&&this._requirePersonProcessing("capture"),super.captureStateless(o,e,i,r)})}alias(e){this.wrap(()=>{if(!this._requirePersonProcessing("posthog.alias"))return;let t=this.getDistinctId(),r=this.enrichProperties({});super.aliasStateless(e,t,r)})}autocapture(e,t,r={},o){this.wrap(()=>{let i={distinct_id:this.getDistinctId(),event:"$autocapture",properties:{...this.enrichProperties(r),$event_type:e,$elements:t}};this.enqueue("autocapture",i,o)})}groups(e){this.wrap(()=>{let t=this.props.$groups||{};this.register({$groups:{...t,...e}}),Object.keys(e).find(r=>t[r]!==e[r])&&this.reloadFeatureFlags()})}group(e,t,r,o){this.wrap(()=>{this.groups({[e]:t}),r&&this.groupIdentify(e,t,r,o)})}groupIdentify(e,t,r,o){this.wrap(()=>{let i=this.getDistinctId(),s=this.enrichProperties({});super.groupIdentifyStateless(e,t,r,o,i,s)})}setPersonPropertiesForFlags(e){this.wrap(()=>{let t=this.getPersistedProperty(n.PostHogPersistedProperty.PersonProperties)||{};this.setPersistedProperty(n.PostHogPersistedProperty.PersonProperties,{...t,...e})})}resetPersonPropertiesForFlags(){this.wrap(()=>{this.setPersistedProperty(n.PostHogPersistedProperty.PersonProperties,null)})}setGroupPropertiesForFlags(e){this.wrap(()=>{let t=this.getPersistedProperty(n.PostHogPersistedProperty.GroupProperties)||{};0!==Object.keys(t).length&&Object.keys(t).forEach(r=>{t[r]={...t[r],...e[r]},delete e[r]}),this.setPersistedProperty(n.PostHogPersistedProperty.GroupProperties,{...t,...e})})}resetGroupPropertiesForFlags(){this.wrap(()=>{this.setPersistedProperty(n.PostHogPersistedProperty.GroupProperties,null)})}async remoteConfigAsync(){return(await this._initPromise,this._remoteConfigResponsePromise)?this._remoteConfigResponsePromise:this._remoteConfigAsync()}async flagsAsync(e=!0,t=!0){return(await this._initPromise,this._flagsResponsePromise)?this._flagsResponsePromise:this._flagsAsync(e,t)}cacheSessionReplay(e,t){let r=t?.sessionRecording;r?(this.setPersistedProperty(n.PostHogPersistedProperty.SessionReplay,r),this._logger.info(`Session replay config from ${e}: `,JSON.stringify(r))):"boolean"==typeof r&&!1===r&&(this._logger.info(`Session replay config from ${e} disabled.`),this.setPersistedProperty(n.PostHogPersistedProperty.SessionReplay,null))}async _remoteConfigAsync(){return this._remoteConfigResponsePromise=this._initPromise.then(()=>{let e=this.getPersistedProperty(n.PostHogPersistedProperty.RemoteConfig);return this._logger.info("Cached remote config: ",JSON.stringify(e)),super.getRemoteConfig().then(t=>{if(t){let r={...t};if(delete r.surveys,this._logger.info("Fetched remote config: ",JSON.stringify(r)),!1===this.disableSurveys){let e=t.surveys,r=!0;Array.isArray(e)?this._logger.info("Surveys fetched from remote config: ",JSON.stringify(e)):(this._logger.info("There are no surveys."),r=!1),r?this.setPersistedProperty(n.PostHogPersistedProperty.Surveys,e):this.setPersistedProperty(n.PostHogPersistedProperty.Surveys,null)}else this.setPersistedProperty(n.PostHogPersistedProperty.Surveys,null);this.setPersistedProperty(n.PostHogPersistedProperty.RemoteConfig,r),this.cacheSessionReplay("remote config",t),!1===t.hasFeatureFlags?(this.setKnownFeatureFlagDetails({flags:{}}),this._logger.warn("Remote config has no feature flags, will not load feature flags.")):!1!==this.preloadFeatureFlags&&this.reloadFeatureFlags(),t.supportedCompression?.includes(n.Compression.GZipJS)||(this.disableCompression=!0),e=t}return e})}).finally(()=>{this._remoteConfigResponsePromise=void 0}),this._remoteConfigResponsePromise}async _flagsAsync(e=!0,t=!0){return this._flagsResponsePromise=this._initPromise.then(async()=>{let r=this.getDistinctId(),o=this.props.$groups||{},i=this.getPersistedProperty(n.PostHogPersistedProperty.PersonProperties)||{},s=this.getPersistedProperty(n.PostHogPersistedProperty.GroupProperties)||{},l={$anon_distinct_id:e?this.getAnonymousId():void 0},u=await super.getFlags(r,o,i,s,l,t);if(!u.success)return void this.setKnownFeatureFlagDetails({flags:this.getKnownFeatureFlagDetails()?.flags??{},requestError:u.error});let c=u.response;if(c?.quotaLimited?.includes(a.QuotaLimitedFeature.FeatureFlags))return this.setKnownFeatureFlagDetails({flags:this.getKnownFeatureFlagDetails()?.flags??{},quotaLimited:c.quotaLimited}),console.warn("[FEATURE FLAGS] Feature flags quota limit exceeded. Learn more about billing limits at https://posthog.com/docs/billing/limits-alerts"),c;if(c?.featureFlags){this.sendFeatureFlagEvent&&(this.flagCallReported={});let e=c;if(c.errorsWhileComputingFlags){let t=this.getKnownFeatureFlagDetails();this._logger.info("Cached feature flags: ",JSON.stringify(t)),e={...c,flags:{...t?.flags,...c.flags}}}this.setKnownFeatureFlagDetails({flags:e.flags,requestId:c.requestId,evaluatedAt:c.evaluatedAt,errorsWhileComputingFlags:c.errorsWhileComputingFlags,quotaLimited:c.quotaLimited}),this.setPersistedProperty(n.PostHogPersistedProperty.FlagsEndpointWasHit,!0),this.cacheSessionReplay("flags",c)}return c}).finally(()=>{this._flagsResponsePromise=void 0}),this._flagsResponsePromise}setKnownFeatureFlagDetails(e){this.wrap(()=>{this.setPersistedProperty(n.PostHogPersistedProperty.FeatureFlagDetails,e),this._events.emit("featureflags",(0,s.getFlagValuesFromFlags)(e?.flags??{}))})}getKnownFeatureFlagDetails(){let e=this.getPersistedProperty(n.PostHogPersistedProperty.FeatureFlagDetails);if(!e){let e=this.getPersistedProperty(n.PostHogPersistedProperty.FeatureFlags),t=this.getPersistedProperty(n.PostHogPersistedProperty.FeatureFlagPayloads);if(void 0===e&&void 0===t)return;return(0,s.createFlagsResponseFromFlagsAndPayloads)(e??{},t??{})}return(0,s.normalizeFlagsResponse)(e)}getStoredFlagDetails(){return this.getPersistedProperty(n.PostHogPersistedProperty.FeatureFlagDetails)}getKnownFeatureFlags(){let e=this.getKnownFeatureFlagDetails();if(e)return(0,s.getFlagValuesFromFlags)(e.flags)}getBootstrappedFeatureFlagDetails(){let e=this.getPersistedProperty(n.PostHogPersistedProperty.BootstrapFeatureFlagDetails);if(e)return e}setBootstrappedFeatureFlagDetails(e){this.setPersistedProperty(n.PostHogPersistedProperty.BootstrapFeatureFlagDetails,e)}getBootstrappedFeatureFlags(){let e=this.getBootstrappedFeatureFlagDetails();if(e)return(0,s.getFlagValuesFromFlags)(e.flags)}getBootstrappedFeatureFlagPayloads(){let e=this.getBootstrappedFeatureFlagDetails();if(e)return(0,s.getPayloadsFromFlags)(e.flags)}getFeatureFlag(e){let t=this.getStoredFlagDetails(),r=this.getFeatureFlagDetails(),o=[],i=t?.quotaLimited?.includes(a.QuotaLimitedFeature.FeatureFlags);if(t?.requestError){let{type:e,statusCode:r}=t.requestError;"timeout"===e?o.push(n.FeatureFlagError.TIMEOUT):"api_error"===e&&void 0!==r?o.push(n.FeatureFlagError.apiError(r)):"connection_error"===e?o.push(n.FeatureFlagError.CONNECTION_ERROR):o.push(n.FeatureFlagError.UNKNOWN_ERROR)}else t&&(t.errorsWhileComputingFlags&&o.push(n.FeatureFlagError.ERRORS_WHILE_COMPUTING),i&&o.push(n.FeatureFlagError.QUOTA_LIMITED));let l=r?.flags[e],u=(0,s.getFeatureFlagValue)(l);if(void 0===u&&(r&&Object.keys(r.flags).length>0&&(u=!1),!r||l||t?.requestError||i||o.push(n.FeatureFlagError.FLAG_MISSING)),this.sendFeatureFlagEvent&&!this.flagCallReported[e]){let t=this.getBootstrappedFeatureFlags()?.[e],i=this.getBootstrappedFeatureFlagPayloads()?.[e],s=o.length>0?o.join(","):void 0;this.flagCallReported[e]=!0;let c={$feature_flag:e,$feature_flag_response:u,...(0,a.maybeAdd)("$feature_flag_id",l?.metadata?.id),...(0,a.maybeAdd)("$feature_flag_version",l?.metadata?.version),...(0,a.maybeAdd)("$feature_flag_reason",l?.reason?.description??l?.reason?.code),...(0,a.maybeAdd)("$feature_flag_bootstrapped_response",t),...(0,a.maybeAdd)("$feature_flag_bootstrapped_payload",i),$used_bootstrap_value:!this.getPersistedProperty(n.PostHogPersistedProperty.FlagsEndpointWasHit),...(0,a.maybeAdd)("$feature_flag_request_id",r?.requestId),...(0,a.maybeAdd)("$feature_flag_evaluated_at",r?.evaluatedAt),...(0,a.maybeAdd)("$feature_flag_error",s)};this.capture("$feature_flag_called",c)}return u}getFeatureFlagPayload(e){let t=this.getFeatureFlagPayloads();if(!t)return;let r=t[e];return void 0===r?null:r}getFeatureFlagPayloads(){return this.getFeatureFlagDetails()?.featureFlagPayloads}getFeatureFlags(){return this.getFeatureFlagDetails()?.featureFlags}getFeatureFlagDetails(){let e=this.getKnownFeatureFlagDetails(),t=this.getPersistedProperty(n.PostHogPersistedProperty.OverrideFeatureFlags);if(!t)return e;let r=(e=e??{featureFlags:{},featureFlagPayloads:{},flags:{}}).flags??{};for(let e in t)t[e]?r[e]=(0,s.updateFlagValue)(r[e],t[e]):delete r[e];let o={...e,flags:r};return(0,s.normalizeFlagsResponse)(o)}getFeatureFlagsAndPayloads(){return{flags:this.getFeatureFlags(),payloads:this.getFeatureFlagPayloads()}}isFeatureEnabled(e){let t=this.getFeatureFlag(e);if(void 0!==t)return!!t}reloadFeatureFlags(e){this.flagsAsync(!0).then(t=>{e?.cb?.(void 0,t?.featureFlags)}).catch(t=>{e?.cb?.(t,void 0),e?.cb||this._logger.info("Error reloading feature flags",t)})}async reloadRemoteConfigAsync(){return await this.remoteConfigAsync()}async reloadFeatureFlagsAsync(e){return(await this.flagsAsync(e??!0))?.featureFlags}onFeatureFlags(e){return this.on("featureflags",async()=>{let t=this.getFeatureFlags();t&&e(t)})}onFeatureFlag(e,t){return this.on("featureflags",async()=>{let r=this.getFeatureFlag(e);void 0!==r&&t(r)})}async overrideFeatureFlag(e){this.wrap(()=>null===e?this.setPersistedProperty(n.PostHogPersistedProperty.OverrideFeatureFlags,null):this.setPersistedProperty(n.PostHogPersistedProperty.OverrideFeatureFlags,e))}captureException(e,t){let r={$exception_level:"error",$exception_list:[{type:(0,u.isPlainError)(e)?e.name:"Error",value:(0,u.isPlainError)(e)?e.message:e,mechanism:{handled:!0,synthetic:!1}}],...t};this.capture("$exception",r)}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_feedback_text:t,$ai_trace_id:String(e)})}captureTraceMetric(e,t,r){this.capture("$ai_metric",{$ai_metric_name:t,$ai_metric_value:String(r),$ai_trace_id:String(e)})}_isIdentified(){let e=this.getPersistedProperty(n.PostHogPersistedProperty.PersonMode);if("identified"===e)return!0;if(void 0===e){let e=this.getPersistedProperty(n.PostHogPersistedProperty.DistinctId),t=this.getPersistedProperty(n.PostHogPersistedProperty.AnonymousId);if(e&&t&&e!==t)return!0}return!1}_getGroups(){return this.props.$groups||{}}_hasPersonProcessing(){if("always"===this._personProfiles)return!0;if("never"===this._personProfiles)return!1;let e=this._isIdentified(),t=Object.keys(this._getGroups()).length>0,r=!0===this.getPersistedProperty(n.PostHogPersistedProperty.EnablePersonProcessing);return e||t||r}_requirePersonProcessing(e){return"never"===this._personProfiles?(this._logger.error(`${e} was called, but personProfiles is set to "never". This call will be ignored.`),!1):(this.setPersistedProperty(n.PostHogPersistedProperty.EnablePersonProcessing,!0),!0)}createPersonProfile(){!this._hasPersonProcessing()&&this._requirePersonProcessing("posthog.createPersonProfile")&&this.capture("$set",{$set:{},$set_once:{}})}processBeforeEnqueue(e){if(!this._beforeSend)return e;let t=e.timestamp,r=e.properties||{},o={uuid:e.uuid,event:e.event,properties:r,$set:r.$set,$set_once:r.$set_once,timestamp:"string"==typeof t?new Date(t):t},i=this._runBeforeSend(o);if(!i)return null;let s={...i.properties??r};return void 0!==i.$set?s.$set=i.$set:delete s.$set,void 0!==i.$set_once?s.$set_once=i.$set_once:delete s.$set_once,{...e,uuid:i.uuid??e.uuid,event:i.event,properties:s,timestamp:i.timestamp}}_runBeforeSend(e){let t=this._beforeSend;if(!t)return e;let r=Array.isArray(t)?t:[t],o=e;for(let t of r)try{if(!(o=t(o)))return this._logger.info(`Event '${e.event}' was rejected in before_send function`),null}catch(t){this._logger.error(`Error in before_send function for event '${e.event}':`,t)}return o}}for(var d in t.PostHogCore=i.PostHogCore,i)-1===["PostHogCore"].indexOf(d)&&(t[d]=i[d]);Object.defineProperty(t,"__esModule",{value:!0})},24777:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.window=t.assignableWindow=t.userAgent=t.AbortController=t.XMLHttpRequest=t.fetch=t.location=t.document=t.navigator=t.nativeIndexOf=t.nativeForEach=t.ArrayProto=void 0;var r="undefined"!=typeof window?window:void 0;t.window=r;var o="undefined"!=typeof globalThis?globalThis:r;"undefined"==typeof self&&(o.self=o),"undefined"==typeof File&&(o.File=function(){}),t.ArrayProto=Array.prototype,t.nativeForEach=t.ArrayProto.forEach,t.nativeIndexOf=t.ArrayProto.indexOf,t.navigator=null==o?void 0:o.navigator,t.document=null==o?void 0:o.document,t.location=null==o?void 0:o.location,t.fetch=null==o?void 0:o.fetch,t.XMLHttpRequest=(null==o?void 0:o.XMLHttpRequest)&&"withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:void 0,t.AbortController=null==o?void 0:o.AbortController,t.userAgent=null===t.navigator||void 0===t.navigator?void 0:t.navigator.userAgent,t.assignableWindow=null!=r?r:{}},25678:function(e,t,r){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,s=r.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)n.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return n},s=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var o,i=0,s=t.length;i<s;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.sessionStore=t.resetSessionStorageSupported=t.memoryStore=t.createLocalPlusCookieStore=t.localStore=t.resetLocalStorageSupported=t.cookieStore=t.resetSubDomainCache=void 0,t.seekFirstNonPublicSubDomain=f,t.chooseCookieDomain=y;var n=r(5453),a=r(81730),l=r(75712),u=r(84939),c=r(24777),d=r(27469),p="";function f(e,t){if(void 0===t&&(t=c.document),p)return p;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var r=e.split("."),o=Math.min(r.length,8),i="dmn_chk_"+(0,d.uuidv7)();!p&&o--;){var s=r.slice(o).join("."),n=i+"=1;domain=."+s+";path=/";t.cookie=n+";max-age=3",t.cookie.includes(i)&&(t.cookie=n+";max-age=0",p=s)}return p}t.resetSubDomainCache=function(){p=""};var g=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,h=function(e){var t=e.match(g);return t?t[0]:""};function y(e,t){if(t){var r=f(e);if(!r){var o=h(e);o!==r&&u.logger.info("Warning: cookie subdomain discovery mismatch",o,r),r=o}return r?"; domain=."+r:""}return""}t.cookieStore={_is_supported:function(){return!!c.document},_error:function(e){u.logger.error("cookieStore error: "+e)},_get:function(e){if(c.document){try{for(var t=e+"=",r=c.document.cookie.split(";").filter(function(e){return e.length}),o=0;o<r.length;o++){for(var i=r[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},_parse:function(e){var r;try{r=JSON.parse(t.cookieStore._get(e))||{}}catch(e){}return r},_set:function(e,t,r,o,i){if(c.document)try{var s="",n="",a=y(c.document.location.hostname,o);if(r){var l=new Date;l.setTime(l.getTime()+24*r*36e5),s="; expires="+l.toUTCString()}i&&(n="; secure");var d=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+n;return d.length>3686.4&&u.logger.warn("cookieStore warning: large cookie, len="+d.length),c.document.cookie=d,d}catch(e){return}},_remove:function(e,r){if(null===c.document||void 0===c.document?void 0:c.document.cookie)try{t.cookieStore._set(e,"",-1,r)}catch(e){return}}};var _=null;t.resetLocalStorageSupported=function(){_=null},t.localStore={_is_supported:function(){if(!(0,l.isNull)(_))return _;var e=!0;if((0,l.isUndefined)(c.window))e=!1;else try{var r="__mplssupport__";t.localStore._set(r,"xyz"),'"xyz"'!==t.localStore._get(r)&&(e=!1),t.localStore._remove(r)}catch(t){e=!1}return e||u.logger.error("localStorage unsupported; falling back to cookie store"),_=e,e},_error:function(e){u.logger.error("localStorage error: "+e)},_get:function(e){try{return null===c.window||void 0===c.window?void 0:c.window.localStorage.getItem(e)}catch(e){t.localStore._error(e)}return null},_parse:function(e){try{return JSON.parse(t.localStore._get(e))||{}}catch(e){}return null},_set:function(e,r){try{null===c.window||void 0===c.window||c.window.localStorage.setItem(e,JSON.stringify(r))}catch(e){t.localStore._error(e)}},_remove:function(e){try{null===c.window||void 0===c.window||c.window.localStorage.removeItem(e)}catch(e){t.localStore._error(e)}}};var m=[a.DEVICE_ID,a.DISTINCT_ID,a.SESSION_ID,a.SESSION_RECORDING_IS_SAMPLED,a.ENABLE_PERSON_PROCESSING,a.INITIAL_PERSON_INFO];t.createLocalPlusCookieStore=function(e){void 0===e&&(e=[]);var r=s(s([],i(m),!1),i(e),!1);return o(o({},t.localStore),{_parse:function(e){try{var r={};try{r=t.cookieStore._parse(e)||{}}catch(e){}var o=(0,n.extend)(r,JSON.parse(t.localStore._get(e)||"{}"));return t.localStore._set(e,o),o}catch(e){}return null},_set:function(e,o,i,s,n,a){try{t.localStore._set(e,o,void 0,void 0,a);var l={};r.forEach(function(e){o[e]&&(l[e]=o[e])}),Object.keys(l).length&&t.cookieStore._set(e,l,i,s,n,a)}catch(e){t.localStore._error(e)}},_remove:function(e,r){try{null===c.window||void 0===c.window||c.window.localStorage.removeItem(e),t.cookieStore._remove(e,r)}catch(e){t.localStore._error(e)}}})};var v={};t.memoryStore={_is_supported:function(){return!0},_error:function(e){u.logger.error("memoryStorage error: "+e)},_get:function(e){return v[e]||null},_parse:function(e){return v[e]||null},_set:function(e,t){v[e]=t},_remove:function(e){delete v[e]}};var P=null;t.resetSessionStorageSupported=function(){P=null},t.sessionStore={_is_supported:function(){if(!(0,l.isNull)(P))return P;if(P=!0,(0,l.isUndefined)(c.window))P=!1;else try{var e="__support__";t.sessionStore._set(e,"xyz"),'"xyz"'!==t.sessionStore._get(e)&&(P=!1),t.sessionStore._remove(e)}catch(e){P=!1}return P},_error:function(e){u.logger.error("sessionStorage error: ",e)},_get:function(e){try{return null===c.window||void 0===c.window?void 0:c.window.sessionStorage.getItem(e)}catch(e){t.sessionStore._error(e)}return null},_parse:function(e){try{return JSON.parse(t.sessionStore._get(e))||null}catch(e){}return null},_set:function(e,r){try{null===c.window||void 0===c.window||c.window.sessionStorage.setItem(e,JSON.stringify(r))}catch(e){t.sessionStore._error(e)}},_remove:function(e){try{null===c.window||void 0===c.window||c.window.sessionStorage.removeItem(e)}catch(e){t.sessionStore._error(e)}}}},27413:function(e,t,r){var o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,s=r.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)n.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIE_CAMPAIGN_PARAMS=t.MASKED=t.EVENT_TO_PERSON_PROPERTIES=t.CAMPAIGN_PARAMS=t.PERSONAL_DATA_CAMPAIGN_PARAMS=void 0,t.getCampaignParams=function(e,r,o){if(!u.document)return{};var i,n=r?(0,l.extendArray)([],t.PERSONAL_DATA_CAMPAIGN_PARAMS,o||[]):[],a=f((0,s.maskQueryParams)(u.document.URL,n,t.MASKED),e),c=(i={},(0,l.each)(t.COOKIE_CAMPAIGN_PARAMS,function(e){var t=d.cookieStore._get(e);i[e]=t||null}),i);return(0,l.extend)(c,a)},t.getSearchInfo=function(){var e=null===u.document||void 0===u.document?void 0:u.document.referrer;return e?g(e):{}},t.getBrowserLanguage=h,t.getBrowserLanguagePrefix=y,t.getReferrer=_,t.getReferringDomain=m,t.getReferrerInfo=function(){return{$referrer:_(),$referring_domain:m()}},t.getPersonInfo=function(e,r){var o=e?(0,l.extendArray)([],t.PERSONAL_DATA_CAMPAIGN_PARAMS,r||[]):[],i=null===u.location||void 0===u.location?void 0:u.location.href.substring(0,1e3);return{r:_().substring(0,1e3),u:i?(0,s.maskQueryParams)(i,o,t.MASKED):void 0}},t.getPersonPropsFromInfo=v,t.getInitialPersonPropsFromInfo=function(e){var t=v(e),r={};return(0,l.each)(t,function(e,t){r["$initial_".concat((0,n.stripLeadingDollar)(t))]=e}),r},t.getTimezone=P,t.getTimezoneOffset=S,t.getEventProperties=function(e,r){if(!u.userAgent)return{};var i=e?(0,l.extendArray)([],t.PERSONAL_DATA_CAMPAIGN_PARAMS,r||[]):[],n=o((0,c.detectOS)(u.userAgent),2),d=n[0],p=n[1];return(0,l.extend)((0,l.stripEmptyProperties)({$os:d,$os_version:p,$browser:(0,c.detectBrowser)(u.userAgent,navigator.vendor),$device:(0,c.detectDevice)(u.userAgent),$device_type:(0,c.detectDeviceType)(u.userAgent),$timezone:P(),$timezone_offset:S()}),{$current_url:(0,s.maskQueryParams)(null===u.location||void 0===u.location?void 0:u.location.href,i,t.MASKED),$host:null===u.location||void 0===u.location?void 0:u.location.host,$pathname:null===u.location||void 0===u.location?void 0:u.location.pathname,$raw_user_agent:u.userAgent.length>1e3?u.userAgent.substring(0,997)+"...":u.userAgent,$browser_version:(0,c.detectBrowserVersion)(u.userAgent,navigator.vendor),$browser_language:h(),$browser_language_prefix:y(),$screen_height:null===u.window||void 0===u.window?void 0:u.window.screen.height,$screen_width:null===u.window||void 0===u.window?void 0:u.window.screen.width,$viewport_height:null===u.window||void 0===u.window?void 0:u.window.innerHeight,$viewport_width:null===u.window||void 0===u.window?void 0:u.window.innerWidth,$lib:"web",$lib_version:a.default.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})};var s=r(14500),n=r(75712),a=i(r(27499)),l=r(5453),u=r(24777),c=r(75712),d=r(25678),p="https?://(.*)";function f(e,r){var o=t.CAMPAIGN_PARAMS.concat(r||[]),i={};return(0,l.each)(o,function(t){var r=(0,s.getQueryParam)(e,t);i[t]=r||null}),i}function g(e){var t=function(e){if(!e)return null;if(0===e.search(p+"google.([^/?]*)"))return"google";if(0===e.search(p+"bing.com"))return"bing";if(0===e.search(p+"yahoo.com"))return"yahoo";if(0===e.search(p+"duckduckgo.com"))return"duckduckgo";else return null}(e),r={};if(!(0,n.isNull)(t)){r.$search_engine=t;var o=u.document?(0,s.getQueryParam)(u.document.referrer,"yahoo"!=t?"q":"p"):"";o.length&&(r.ph_keyword=o)}return r}function h(){return navigator.language||navigator.userLanguage}function y(){var e=h();return"string"==typeof e?e.split("-")[0]:void 0}function _(){return(null===u.document||void 0===u.document?void 0:u.document.referrer)||"$direct"}function m(){var e;return(null===u.document||void 0===u.document?void 0:u.document.referrer)&&(null==(e=(0,s.convertToURL)(u.document.referrer))?void 0:e.host)||"$direct"}function v(e){var t,r=e.r,o=e.u,i=null==r?void 0:"$direct"==r?"$direct":null==(t=(0,s.convertToURL)(r))?void 0:t.host,n={$referrer:r,$referring_domain:i};if(o){n.$current_url=o;var a=(0,s.convertToURL)(o);n.$host=null==a?void 0:a.host,n.$pathname=null==a?void 0:a.pathname;var u=f(o);(0,l.extend)(n,u)}if(r){var c=g(r);(0,l.extend)(n,c)}return n}function P(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}function S(){try{return new Date().getTimezoneOffset()}catch(e){return}}t.PERSONAL_DATA_CAMPAIGN_PARAMS=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],t.CAMPAIGN_PARAMS=(0,l.extendArray)(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],t.PERSONAL_DATA_CAMPAIGN_PARAMS),t.EVENT_TO_PERSON_PROPERTIES=["$app_build","$app_name","$app_namespace","$app_version","$browser","$browser_version","$device_type","$current_url","$pathname","$os","$os_name","$os_version","$referring_domain","$referrer","$screen_height","$screen_width","$viewport_height","$viewport_width","$raw_user_agent"],t.MASKED="<masked>",t.COOKIE_CAMPAIGN_PARAMS=["li_fat_id"]},27469:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.uuid7ToTimestampMs=t.uuidv7=t.UUID=void 0;var o,i=r(24777),s=r(75712);Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return(0,s.isNumber)(e)&&isFinite(e)&&Math.floor(e)===e});var n="0123456789abcdef",a=function(){function e(e){if(this.bytes=e,16!==e.length)throw TypeError("not 128-bit length")}return e.fromFieldsV7=function(t,r,o,i){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(o)||!Number.isInteger(i)||t<0||r<0||o<0||i<0||t>0xffffffffffff||r>4095||o>0x3fffffff||i>0xffffffff)throw RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/0x10000000000,s[1]=t/0x100000000,s[2]=t/0x1000000,s[3]=t/65536,s[4]=t/256,s[5]=t,s[6]=112|r>>>8,s[7]=r,s[8]=128|o>>>24,s[9]=o>>>16,s[10]=o>>>8,s[11]=o,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)},e.prototype.toString=function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+n.charAt(this.bytes[t]>>>4)+n.charAt(15&this.bytes[t]),(3===t||5===t||7===t||9===t)&&(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e},e.prototype.clone=function(){return new e(this.bytes.slice(0))},e.prototype.equals=function(e){return 0===this.compareTo(e)},e.prototype.compareTo=function(e){for(var t=0;t<16;t++){var r=this.bytes[t]-e.bytes[t];if(0!==r)return Math.sign(r)}return 0},e}();t.UUID=a;var l=function(){function e(){this._timestamp=0,this._counter=0,this._random=new c}return e.prototype.generate=function(){var e=this.generateOrAbort();if(!(0,s.isUndefined)(e))return e;this._timestamp=0;var t=this.generateOrAbort();if((0,s.isUndefined)(t))throw Error("Could not generate UUID after timestamp reset");return t},e.prototype.generateOrAbort=function(){var e=Date.now();if(e>this._timestamp)this._timestamp=e,this._resetCounter();else{if(!(e+1e4>this._timestamp))return;this._counter++,this._counter>0x3ffffffffff&&(this._timestamp++,this._resetCounter())}return a.fromFieldsV7(this._timestamp,Math.trunc(this._counter/0x40000000),0x3fffffff&this._counter,this._random.nextUint32())},e.prototype._resetCounter=function(){this._counter=1024*this._random.nextUint32()+(1023&this._random.nextUint32())},e}(),u=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};i.window&&!(0,s.isUndefined)(i.window.crypto)&&crypto.getRandomValues&&(u=function(e){return crypto.getRandomValues(e)});var c=function(){function e(){this._buffer=new Uint32Array(8),this._cursor=1/0}return e.prototype.nextUint32=function(){return this._cursor>=this._buffer.length&&(u(this._buffer),this._cursor=0),this._buffer[this._cursor++]},e}();t.uuidv7=function(){return d().toString()};var d=function(){return(o||(o=new l)).generate()};t.uuid7ToTimestampMs=function(e){var t=e.replace(/-/g,"");if(32!==t.length)throw Error("Not a valid UUID");if("7"!==t[12])throw Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)}},27499:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEBUG:!1,LIB_VERSION:o(r(3799)).default.version}},28265:(e,t)=>{let r,o,i;var s={};s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};function a(e){let t=globalThis._posthogChunkIds;if(!t)return;let s=Object.keys(t);return i&&s.length===o?i:(o=s.length,i=s.reduce((o,i)=>{r||(r={});let s=r[i];if(s)o[s[0]]=s[1];else{let s=e(i);for(let e=s.length-1;e>=0;e--){let n=s[e],a=n?.filename,l=t[i];if(a&&l){o[a]=l,r[i]=[a,l];break}}}return o},{}))}for(var l in s.r(n),s.d(n,{getFilenameToChunkIdMap:()=>a}),t.getFilenameToChunkIdMap=n.getFilenameToChunkIdMap,n)-1===["getFilenameToChunkIdMap"].indexOf(l)&&(t[l]=n[l]);Object.defineProperty(t,"__esModule",{value:!0})},29048:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{EventCoercer:()=>a});let s=r(58738),n=r(21345);class a{match(e){return(0,s.isEvent)(e)}coerce(e,t){let r=e.constructor.name;return{type:r,value:`${r} captured as exception with keys: ${(0,n.extractExceptionKeysForMessage)(e)}`,stack:t.syntheticException?.stack,synthetic:!0}}}for(var l in t.EventCoercer=i.EventCoercer,i)-1===["EventCoercer"].indexOf(l)&&(t[l]=i[l]);Object.defineProperty(t,"__esModule",{value:!0})},29376:function(e,t,r){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.printAndDropEverything=void 0,t.sampleByDistinctId=function(e){return function(t){return t&&(0,s.sampleOnProperty)(t.properties.distinct_id,e)?o(o({},t),{properties:o(o({},t.properties),{$sample_type:["sampleByDistinctId"],$sample_threshold:e})}):null}},t.sampleBySessionId=function(e){return function(t){return t&&(0,s.sampleOnProperty)(t.properties.$session_id,e)?o(o({},t),{properties:o(o({},t.properties),{$sample_type:(0,s.appendArray)(t.properties.$sample_type,"sampleBySessionId"),$sample_threshold:(0,s.updateThreshold)(t.properties.$sample_threshold,e)})}):null}},t.sampleByEvent=function(e,t){return function(r){var a,l,u;return r?(0,i.includes)(e,r.event)?100*Math.random()<(0,i.clampToRange)(100*t,0,100,n.logger)?o(o({},r),{properties:o(o({},r.properties),{$sample_type:(0,s.appendArray)(null==(a=r.properties)?void 0:a.$sample_type,"sampleByEvent"),$sample_threshold:(0,s.updateThreshold)(null==(l=r.properties)?void 0:l.$sample_threshold,t),$sampled_events:(0,s.appendArray)(null==(u=r.properties)?void 0:u.$sampled_events,e)})}):null:r:null}};var i=r(75712),s=r(72701),n=r(84939);t.printAndDropEverything=function(e){return console.log("Would have sent event:",e),null}},30473:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{ActionStepStringMatching:()=>h,Compression:()=>s,FeatureFlagError:()=>n,PostHogPersistedProperty:()=>i,SurveyMatchType:()=>g,SurveyPosition:()=>a,SurveyQuestionBranchingType:()=>f,SurveyQuestionDescriptionContentType:()=>c,SurveyQuestionType:()=>p,SurveyRatingDisplay:()=>d,SurveyType:()=>u,SurveyWidgetType:()=>l,knownUnsafeEditableEvent:()=>y});var i=function(e){return e.AnonymousId="anonymous_id",e.DistinctId="distinct_id",e.Props="props",e.EnablePersonProcessing="enable_person_processing",e.PersonMode="person_mode",e.FeatureFlagDetails="feature_flag_details",e.FeatureFlags="feature_flags",e.FeatureFlagPayloads="feature_flag_payloads",e.BootstrapFeatureFlagDetails="bootstrap_feature_flag_details",e.BootstrapFeatureFlags="bootstrap_feature_flags",e.BootstrapFeatureFlagPayloads="bootstrap_feature_flag_payloads",e.OverrideFeatureFlags="override_feature_flags",e.Queue="queue",e.OptedOut="opted_out",e.SessionId="session_id",e.SessionStartTimestamp="session_start_timestamp",e.SessionLastTimestamp="session_timestamp",e.PersonProperties="person_properties",e.GroupProperties="group_properties",e.InstalledAppBuild="installed_app_build",e.InstalledAppVersion="installed_app_version",e.SessionReplay="session_replay",e.SurveyLastSeenDate="survey_last_seen_date",e.SurveysSeen="surveys_seen",e.Surveys="surveys",e.RemoteConfig="remote_config",e.FlagsEndpointWasHit="flags_endpoint_was_hit",e}({}),s=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({});let n={ERRORS_WHILE_COMPUTING:"errors_while_computing_flags",FLAG_MISSING:"flag_missing",QUOTA_LIMITED:"quota_limited",TIMEOUT:"timeout",CONNECTION_ERROR:"connection_error",UNKNOWN_ERROR:"unknown_error",apiError:e=>`api_error_${e}`};var a=function(e){return e.TopLeft="top_left",e.TopCenter="top_center",e.TopRight="top_right",e.MiddleLeft="middle_left",e.MiddleCenter="middle_center",e.MiddleRight="middle_right",e.Left="left",e.Right="right",e.Center="center",e}({}),l=function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e}({}),u=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({}),c=function(e){return e.Html="html",e.Text="text",e}({}),d=function(e){return e.Number="number",e.Emoji="emoji",e}({}),p=function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e}({}),f=function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e}({}),g=function(e){return e.Regex="regex",e.NotRegex="not_regex",e.Exact="exact",e.IsNot="is_not",e.Icontains="icontains",e.NotIcontains="not_icontains",e}({}),h=function(e){return e.Contains="contains",e.Exact="exact",e.Regex="regex",e}({});let y=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];for(var _ in t.ActionStepStringMatching=o.ActionStepStringMatching,t.Compression=o.Compression,t.FeatureFlagError=o.FeatureFlagError,t.PostHogPersistedProperty=o.PostHogPersistedProperty,t.SurveyMatchType=o.SurveyMatchType,t.SurveyPosition=o.SurveyPosition,t.SurveyQuestionBranchingType=o.SurveyQuestionBranchingType,t.SurveyQuestionDescriptionContentType=o.SurveyQuestionDescriptionContentType,t.SurveyQuestionType=o.SurveyQuestionType,t.SurveyRatingDisplay=o.SurveyRatingDisplay,t.SurveyType=o.SurveyType,t.SurveyWidgetType=o.SurveyWidgetType,t.knownUnsafeEditableEvent=o.knownUnsafeEditableEvent,o)-1===["ActionStepStringMatching","Compression","FeatureFlagError","PostHogPersistedProperty","SurveyMatchType","SurveyPosition","SurveyQuestionBranchingType","SurveyQuestionDescriptionContentType","SurveyQuestionType","SurveyRatingDisplay","SurveyType","SurveyWidgetType","knownUnsafeEditableEvent"].indexOf(_)&&(t[_]=o[_]);Object.defineProperty(t,"__esModule",{value:!0})},33983:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{geckoStackLineParser:()=>u});let s=r(63721),n=r(61556),a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=(e,t)=>{let r=a.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){let e=l.exec(r[3]);e&&(r[1]=r[1]||"eval",r[3]=e[1],r[4]=e[2],r[5]="")}let e=r[3],o=r[1]||s.UNKNOWN_FUNCTION;return[o,e]=(0,n.extractSafariExtensionDetails)(o,e),(0,s.createFrame)(t,e,o,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}};for(var c in t.geckoStackLineParser=i.geckoStackLineParser,i)-1===["geckoStackLineParser"].indexOf(c)&&(t[c]=i[c]);Object.defineProperty(t,"__esModule",{value:!0})},35891:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};function i(e,t){return -1!==e.indexOf(t)}r.r(o),r.d(o,{includes:()=>i,isDistinctIdStringLike:()=>a,stripLeadingDollar:()=>n,trim:()=>s});let s=function(e){return e.trim()},n=function(e){return e.replace(/^\$/,"")};function a(e){return["distinct_id","distinctid"].includes(e.toLowerCase())}for(var l in t.includes=o.includes,t.isDistinctIdStringLike=o.isDistinctIdStringLike,t.stripLeadingDollar=o.stripLeadingDollar,t.trim=o.trim,o)-1===["includes","isDistinctIdStringLike","stripLeadingDollar","trim"].indexOf(l)&&(t[l]=o[l]);Object.defineProperty(t,"__esModule",{value:!0})},36412:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{nodeStackLineParser:()=>l});let s=r(63721),n=/^\s*[-]{4,}$/,a=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/,l=(e,t)=>{let r=e.match(a);if(r){let e,o,i,n,a;if(r[1]){let t=(i=r[1]).lastIndexOf(".");if("."===i[t-1]&&t--,t>0){e=i.slice(0,t),o=i.slice(t+1);let r=e.indexOf(".Module");r>0&&(i=i.slice(r+1),e=e.slice(0,r))}n=void 0}o&&(n=e,a=o),"<anonymous>"===o&&(a=void 0,i=void 0),void 0===i&&(a=a||s.UNKNOWN_FUNCTION,i=n?`${n}.${a}`:a);let l=r[2]?.startsWith("file://")?r[2].slice(7):r[2],c="native"===r[5];return l?.match(/\/[A-Z]:/)&&(l=l.slice(1)),l||!r[5]||c||(l=r[5]),{filename:l?decodeURI(l):void 0,module:void 0,function:i,lineno:u(r[3]),colno:u(r[4]),in_app:function(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==e&&!e.includes("node_modules/")}(l||"",c),platform:t}}if(e.match(n))return{filename:e,platform:t}};function u(e){return parseInt(e||"",10)||void 0}for(var c in t.nodeStackLineParser=i.nodeStackLineParser,i)-1===["nodeStackLineParser"].indexOf(c)&&(t[c]=i[c]);Object.defineProperty(t,"__esModule",{value:!0})},36737:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{createFlagsResponseFromFlagsAndPayloads:()=>c,getFeatureFlagValue:()=>l,getFlagDetailsFromFlagsAndPayloads:()=>a,getFlagValuesFromFlags:()=>s,getPayloadsFromFlags:()=>n,normalizeFlagsResponse:()=>i,parsePayload:()=>u,updateFlagValue:()=>d});let i=e=>{if("flags"in e){let t=s(e.flags),r=n(e.flags);return{...e,featureFlags:t,featureFlagPayloads:r}}{let t=e.featureFlags??{},r=Object.fromEntries(Object.entries(e.featureFlagPayloads||{}).map(([e,t])=>[e,u(t)])),o=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,function(e,t,r){return{key:e,enabled:"string"==typeof t||t,variant:"string"==typeof t?t:void 0,reason:void 0,metadata:{id:void 0,version:void 0,payload:r?JSON.stringify(r):void 0,description:void 0}}}(e,t,r[e])]));return{...e,featureFlags:t,featureFlagPayloads:r,flags:o}}},s=e=>Object.fromEntries(Object.entries(e??{}).map(([e,t])=>[e,l(t)]).filter(([,e])=>void 0!==e)),n=e=>{let t=e??{};return Object.fromEntries(Object.keys(t).filter(e=>{let r=t[e];return r.enabled&&r.metadata&&void 0!==r.metadata.payload}).map(e=>{let r=t[e].metadata?.payload;return[e,r?u(r):void 0]}))},a=e=>{let t=e.featureFlags??{},r=e.featureFlagPayloads??{};return Object.fromEntries(Object.entries(t).map(([e,t])=>[e,{key:e,enabled:"string"==typeof t||t,variant:"string"==typeof t?t:void 0,reason:void 0,metadata:{id:void 0,version:void 0,payload:r?.[e]?JSON.stringify(r[e]):void 0,description:void 0}}]))},l=e=>void 0===e?void 0:e.variant??e.enabled,u=e=>{if("string"!=typeof e)return e;try{return JSON.parse(e)}catch{return e}},c=(e,t)=>i({featureFlags:[...new Set([...Object.keys(e??{}),...Object.keys(t??{})])].filter(r=>!!e[r]||!!t[r]).reduce((t,r)=>(t[r]=e[r]??!0,t),{}),featureFlagPayloads:t??{}}),d=(e,t)=>({...e,enabled:function(e){return"string"==typeof e||e}(t),variant:function(e){return"string"==typeof e?e:void 0}(t)});for(var p in t.createFlagsResponseFromFlagsAndPayloads=o.createFlagsResponseFromFlagsAndPayloads,t.getFeatureFlagValue=o.getFeatureFlagValue,t.getFlagDetailsFromFlagsAndPayloads=o.getFlagDetailsFromFlagsAndPayloads,t.getFlagValuesFromFlags=o.getFlagValuesFromFlags,t.getPayloadsFromFlags=o.getPayloadsFromFlags,t.normalizeFlagsResponse=o.normalizeFlagsResponse,t.parsePayload=o.parsePayload,t.updateFlagValue=o.updateFlagValue,o)-1===["createFlagsResponseFromFlagsAndPayloads","getFeatureFlagValue","getFlagDetailsFromFlagsAndPayloads","getFlagValuesFromFlags","getPayloadsFromFlags","normalizeFlagsResponse","parsePayload","updateFlagValue"].indexOf(p)&&(t[p]=o[p]);Object.defineProperty(t,"__esModule",{value:!0})},39192:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,i)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.browserConsoleLogger=t.sessionRecordingLoggerForPostHogInstance=t.posthogKeaLogger=t.posthogReduxLogger=void 0,i(r(92212),t),i(r(29376),t);var s=r(16030);Object.defineProperty(t,"posthogReduxLogger",{enumerable:!0,get:function(){return s.posthogReduxLogger}}),Object.defineProperty(t,"posthogKeaLogger",{enumerable:!0,get:function(){return s.posthogKeaLogger}}),Object.defineProperty(t,"sessionRecordingLoggerForPostHogInstance",{enumerable:!0,get:function(){return s.sessionRecordingLoggerForPostHogInstance}}),Object.defineProperty(t,"browserConsoleLogger",{enumerable:!0,get:function(){return s.browserConsoleLogger}})},41708:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{DOMExceptionCoercer:()=>n});let s=r(58738);class n{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,t){let r=(0,s.isString)(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:r?e.stack:void 0,cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){let t=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?`${t}: ${e.message}`:t}isDOMException(e){return(0,s.isBuiltin)(e,"DOMException")}isDOMError(e){return(0,s.isBuiltin)(e,"DOMError")}}for(var a in t.DOMExceptionCoercer=i.DOMExceptionCoercer,i)-1===["DOMExceptionCoercer"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},42226:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{chromeStackLineParser:()=>c});let s=r(63721),n=r(61556),a=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,l=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=(e,t)=>{let r=a.exec(e);if(r){let[,e,o,i]=r;return(0,s.createFrame)(t,e,s.UNKNOWN_FUNCTION,+o,+i)}let o=l.exec(e);if(o){if(o[2]&&0===o[2].indexOf("eval")){let e=u.exec(o[2]);e&&(o[2]=e[1],o[3]=e[2],o[4]=e[3])}let[e,r]=(0,n.extractSafariExtensionDetails)(o[1]||s.UNKNOWN_FUNCTION,o[2]);return(0,s.createFrame)(t,r,e,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}};for(var d in t.chromeStackLineParser=i.chromeStackLineParser,i)-1===["chromeStackLineParser"].indexOf(d)&&(t[d]=i[d]);Object.defineProperty(t,"__esModule",{value:!0})},42425:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{PromiseQueue:()=>n});let s=r(7627);class n{add(e){let t=(0,s.uuidv7)();return this.promiseByIds[t]=e,e.catch(()=>{}).finally(()=>{delete this.promiseByIds[t]}),e}async join(){let e=Object.values(this.promiseByIds),t=e.length;for(;t>0;)await Promise.all(e),t=(e=Object.values(this.promiseByIds)).length}get length(){return Object.keys(this.promiseByIds).length}constructor(){this.promiseByIds={}}}for(var a in t.PromiseQueue=i.PromiseQueue,i)-1===["PromiseQueue"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},58738:(e,t,r)=>{var o={"./bot-detection":function(e){e.exports=r(5985)},"./bucketed-rate-limiter":function(e){e.exports=r(88107)},"./logger":function(e){e.exports=r(96618)},"./number-utils":function(e){e.exports=r(87723)},"./promise-queue":function(e){e.exports=r(42425)},"./string-utils":function(e){e.exports=r(35891)},"./type-utils":function(e){e.exports=r(21926)},"./user-agent-utils":function(e){e.exports=r(88985)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};for(var a in(()=>{s.r(n),s.d(n,{STRING_FORMAT:()=>p,allSettled:()=>b,assert:()=>f,currentISOTime:()=>_,currentTimestamp:()=>y,getFetch:()=>S,isError:()=>P,isPromise:()=>v,removeTrailingSlash:()=>g,retriable:()=>h,safeSetTimeout:()=>m});var e=s("./bot-detection"),t={};for(var r in e)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(t){return e[t]}).bind(0,r));s.d(n,t);var o=s("./bucketed-rate-limiter"),t={};for(var r in o)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(e){return o[e]}).bind(0,r));s.d(n,t);var i=s("./number-utils"),t={};for(var r in i)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(e){return i[e]}).bind(0,r));s.d(n,t);var a=s("./string-utils"),t={};for(var r in a)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(e){return a[e]}).bind(0,r));s.d(n,t);var l=s("./type-utils"),t={};for(var r in l)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(e){return l[e]}).bind(0,r));s.d(n,t);var u=s("./promise-queue"),t={};for(var r in u)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(e){return u[e]}).bind(0,r));s.d(n,t);var c=s("./logger"),t={};for(var r in c)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(e){return c[e]}).bind(0,r));s.d(n,t);var d=s("./user-agent-utils"),t={};for(var r in d)0>["removeTrailingSlash","retriable","default","currentISOTime","currentTimestamp","STRING_FORMAT","isError","safeSetTimeout","getFetch","isPromise","assert","allSettled"].indexOf(r)&&(t[r]=(function(e){return d[e]}).bind(0,r));s.d(n,t);let p="utf8";function f(e,t){if(!e||"string"!=typeof e||0===e.trim().length)throw Error(t)}function g(e){return e?.replace(/\/+$/,"")}async function h(e,t){let r=null;for(let o=0;o<t.retryCount+1;o++){o>0&&await new Promise(e=>setTimeout(e,t.retryDelay));try{return await e()}catch(e){if(r=e,!t.retryCheck(e))throw e}}throw r}function y(){return new Date().getTime()}function _(){return new Date().toISOString()}function m(e,t){let r=setTimeout(e,t);return r?.unref&&r?.unref(),r}let v=e=>e&&"function"==typeof e.then,P=e=>e instanceof Error;function S(){return"undefined"!=typeof fetch?fetch:void 0!==globalThis.fetch?globalThis.fetch:void 0}function b(e){return Promise.all(e.map(e=>(e??Promise.resolve()).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}})(),t.STRING_FORMAT=n.STRING_FORMAT,t.allSettled=n.allSettled,t.assert=n.assert,t.currentISOTime=n.currentISOTime,t.currentTimestamp=n.currentTimestamp,t.getFetch=n.getFetch,t.isError=n.isError,t.isPromise=n.isPromise,t.removeTrailingSlash=n.removeTrailingSlash,t.retriable=n.retriable,t.safeSetTimeout=n.safeSetTimeout,n)-1===["STRING_FORMAT","allSettled","assert","currentISOTime","currentTimestamp","getFetch","isError","isPromise","removeTrailingSlash","retriable","safeSetTimeout"].indexOf(a)&&(t[a]=n[a]);Object.defineProperty(t,"__esModule",{value:!0})},61556:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{extractSafariExtensionDetails:()=>n});let s=r(63721),n=(e,t)=>{let r=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return r||o?[-1!==e.indexOf("@")?e.split("@")[0]:s.UNKNOWN_FUNCTION,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};for(var a in t.extractSafariExtensionDetails=i.extractSafariExtensionDetails,i)-1===["extractSafariExtensionDetails"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},63457:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{StringCoercer:()=>s});let i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class s{match(e){return"string"==typeof e}coerce(e,t){let[r,o]=this.getInfos(e);return{type:r??"Error",value:o??e,stack:t.syntheticException?.stack,synthetic:!0}}getInfos(e){let t="Error",r=e,o=e.match(i);return o&&(t=o[1],r=o[2]),[t,r]}}for(var n in t.StringCoercer=o.StringCoercer,o)-1===["StringCoercer"].indexOf(n)&&(t[n]=o[n]);Object.defineProperty(t,"__esModule",{value:!0})},63721:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{UNKNOWN_FUNCTION:()=>n,createFrame:()=>a});let s=r(58738),n="?";function a(e,t,r,o,i){let a={platform:e,filename:t,function:"<anonymous>"===r?n:r,in_app:!0};return(0,s.isUndefined)(o)||(a.lineno=o),(0,s.isUndefined)(i)||(a.colno=i),a}for(var l in t.UNKNOWN_FUNCTION=i.UNKNOWN_FUNCTION,t.createFrame=i.createFrame,i)-1===["UNKNOWN_FUNCTION","createFrame"].indexOf(l)&&(t[l]=i[l]);Object.defineProperty(t,"__esModule",{value:!0})},67298:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{SimpleEventEmitter:()=>i});class i{constructor(){this.events={},this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter(e=>e!==t)}}emit(e,t){for(let r of this.events[e]||[])r(t);for(let r of this.events["*"]||[])r(e,t)}}for(var s in t.SimpleEventEmitter=o.SimpleEventEmitter,o)-1===["SimpleEventEmitter"].indexOf(s)&&(t[s]=o[s]);Object.defineProperty(t,"__esModule",{value:!0})},67927:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{ObjectCoercer:()=>l});let s=r(58738),n=r(68510),a=r(21345);class l{match(e){return"object"==typeof e&&null!==e}coerce(e,t){let r=this.getErrorPropertyFromObject(e);return r?t.apply(r):{type:this.getType(e),value:this.getValue(e),stack:t.syntheticException?.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return(0,s.isEvent)(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&"string"==typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"==typeof e.message&&(t+=` with message: '${e.message}'`),t}if("message"in e&&"string"==typeof e.message)return e.message;let t=this.getObjectClassName(e),r=(0,a.extractExceptionKeysForMessage)(e);return`${t&&"Object"!==t?`'${t}'`:"Object"} captured as exception with keys: ${r}`}isSeverityLevel(e){return(0,s.isString)(e)&&!(0,s.isEmptyString)(e)&&n.severityLevels.indexOf(e)>=0}getErrorPropertyFromObject(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let r=e[t];if((0,s.isError)(r))return r}}getObjectClassName(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){return}}}for(var u in t.ObjectCoercer=i.ObjectCoercer,i)-1===["ObjectCoercer"].indexOf(u)&&(t[u]=i[u]);Object.defineProperty(t,"__esModule",{value:!0})},68510:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{severityLevels:()=>i});let i=["fatal","error","warning","log","info","debug"];for(var s in t.severityLevels=o.severityLevels,o)-1===["severityLevels"].indexOf(s)&&(t[s]=o[s]);Object.defineProperty(t,"__esModule",{value:!0})},72701:function(e,t,r){var o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,s=r.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)n.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return n},i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var o,i=0,s=t.length;i<s;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.appendArray=function(e,t){return i(i([],o(e||[]),!1),o((0,s.isArray)(t)?t:[t]),!1)},t.updateThreshold=function(e,t){return((0,s.isUndefined)(e)?1:e)*t},t.simpleHash=a,t.sampleOnProperty=function(e,t){return a(e)%100<(0,s.clampToRange)(100*t,0,100,n.logger)};var s=r(75712),n=r(84939);function a(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return Math.abs(t)}},73643:(e,t,r)=>{var o={"./coercers":function(e){e.exports=r(76788)},"./error-properties-builder":function(e){e.exports=r(99163)},"./parsers":function(e){e.exports=r(91476)},"./utils?198b":function(e){e.exports=r(95130)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};for(var a in(()=>{s.r(n);var e=s("./error-properties-builder"),t={};for(var r in e)"default"!==r&&(t[r]=(function(t){return e[t]}).bind(0,r));s.d(n,t);var o=s("./parsers"),t={};for(var r in o)"default"!==r&&(t[r]=(function(e){return o[e]}).bind(0,r));s.d(n,t);var i=s("./coercers"),t={};for(var r in i)"default"!==r&&(t[r]=(function(e){return i[e]}).bind(0,r));s.d(n,t);var a=s("./utils?198b"),t={};for(var r in a)"default"!==r&&(t[r]=(function(e){return a[e]}).bind(0,r));s.d(n,t)})(),n)t[a]=n[a];Object.defineProperty(t,"__esModule",{value:!0})},75712:(e,t,r)=>{var o={"./error-tracking":function(e){e.exports=r(73643)},"./featureFlagUtils":function(e){e.exports=r(36737)},"./posthog-core-stateless":function(e){e.exports=r(78513)},"./posthog-core":function(e){e.exports=r(23312)},"./types":function(e){e.exports=r(30473)},"./utils?637c":function(e){e.exports=r(58738)},"./vendor/uuidv7":function(e){e.exports=r(7627)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};for(var a in(()=>{s.r(n),s.d(n,{ErrorTracking:()=>i,getFeatureFlagValue:()=>e.getFeatureFlagValue,uuidv7:()=>a.uuidv7});var e=s("./featureFlagUtils"),t=s("./utils?637c"),r={};for(var o in t)0>["ErrorTracking","default","getFeatureFlagValue","uuidv7"].indexOf(o)&&(r[o]=(function(e){return t[e]}).bind(0,o));s.d(n,r);var i=s("./error-tracking"),a=s("./vendor/uuidv7"),l=s("./posthog-core"),r={};for(var o in l)0>["ErrorTracking","default","getFeatureFlagValue","uuidv7"].indexOf(o)&&(r[o]=(function(e){return l[e]}).bind(0,o));s.d(n,r);var u=s("./posthog-core-stateless"),r={};for(var o in u)0>["ErrorTracking","default","getFeatureFlagValue","uuidv7"].indexOf(o)&&(r[o]=(function(e){return u[e]}).bind(0,o));s.d(n,r);var c=s("./types"),r={};for(var o in c)0>["ErrorTracking","default","getFeatureFlagValue","uuidv7"].indexOf(o)&&(r[o]=(function(e){return c[e]}).bind(0,o));s.d(n,r)})(),t.ErrorTracking=n.ErrorTracking,t.getFeatureFlagValue=n.getFeatureFlagValue,t.uuidv7=n.uuidv7,n)-1===["ErrorTracking","getFeatureFlagValue","uuidv7"].indexOf(a)&&(t[a]=n[a]);Object.defineProperty(t,"__esModule",{value:!0})},76788:(e,t,r)=>{var o={"./dom-exception-coercer":function(e){e.exports=r(41708)},"./error-coercer":function(e){e.exports=r(94294)},"./error-event-coercer":function(e){e.exports=r(91415)},"./event-coercer":function(e){e.exports=r(29048)},"./object-coercer":function(e){e.exports=r(67927)},"./primitive-coercer":function(e){e.exports=r(2221)},"./promise-rejection-event":function(e){e.exports=r(15798)},"./string-coercer":function(e){e.exports=r(63457)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};for(var a in(()=>{s.r(n);var e=s("./dom-exception-coercer"),t={};for(var r in e)"default"!==r&&(t[r]=(function(t){return e[t]}).bind(0,r));s.d(n,t);var o=s("./error-coercer"),t={};for(var r in o)"default"!==r&&(t[r]=(function(e){return o[e]}).bind(0,r));s.d(n,t);var i=s("./error-event-coercer"),t={};for(var r in i)"default"!==r&&(t[r]=(function(e){return i[e]}).bind(0,r));s.d(n,t);var a=s("./string-coercer"),t={};for(var r in a)"default"!==r&&(t[r]=(function(e){return a[e]}).bind(0,r));s.d(n,t);var l=s("./object-coercer"),t={};for(var r in l)"default"!==r&&(t[r]=(function(e){return l[e]}).bind(0,r));s.d(n,t);var u=s("./event-coercer"),t={};for(var r in u)"default"!==r&&(t[r]=(function(e){return u[e]}).bind(0,r));s.d(n,t);var c=s("./primitive-coercer"),t={};for(var r in c)"default"!==r&&(t[r]=(function(e){return c[e]}).bind(0,r));s.d(n,t);var d=s("./promise-rejection-event"),t={};for(var r in d)"default"!==r&&(t[r]=(function(e){return d[e]}).bind(0,r));s.d(n,t)})(),n)t[a]=n[a];Object.defineProperty(t,"__esModule",{value:!0})},78513:(e,t,r)=>{var o=r(90316).hp,i={};i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};i.r(s),i.d(s,{maybeAdd:()=>g,logFlushError:()=>h,PostHogCoreStateless:()=>v,QuotaLimitedFeature:()=>m});let n=r(67298),a=r(36737),l=r(1984),u=r(30473),c=r(58738),d=r(7627);class p extends Error{constructor(e,t){super("HTTP error while fetching PostHog: status="+e.status+", reqByteLength="+t),this.response=e,this.reqByteLength=t,this.name="PostHogFetchHttpError"}get status(){return this.response.status}get text(){return this.response.text()}get json(){return this.response.json()}}class f extends Error{constructor(e){super("Network error while fetching PostHog",e instanceof Error?{cause:e}:{}),this.error=e,this.name="PostHogFetchNetworkError"}}let g=(e,t)=>void 0!==t?{[e]:t}:{};async function h(e){if(e instanceof p){let t="";try{t=await e.text}catch{}console.error(`Error while flushing PostHog: message=${e.message}, response body=${t}`,e)}else console.error("Error while flushing PostHog",e);return Promise.resolve()}function y(e){return"object"==typeof e&&(e instanceof p||e instanceof f)}function _(e){return"object"==typeof e&&e instanceof p&&413===e.status}var m=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class v{constructor(e,t={}){this.flushPromise=null,this.shutdownPromise=null,this.promiseQueue=new c.PromiseQueue,this._events=new n.SimpleEventEmitter,this._isInitialized=!1,(0,c.assert)(e,"You must pass your PostHog project's api key."),this.apiKey=e,this.host=(0,c.removeTrailingSlash)(t.host||"https://us.i.posthog.com"),this.flushAt=t.flushAt?Math.max(t.flushAt,1):20,this.maxBatchSize=Math.max(this.flushAt,t.maxBatchSize??100),this.maxQueueSize=Math.max(this.flushAt,t.maxQueueSize??1e3),this.flushInterval=t.flushInterval??1e4,this.preloadFeatureFlags=t.preloadFeatureFlags??!0,this.defaultOptIn=t.defaultOptIn??!0,this.disableSurveys=t.disableSurveys??!1,this._retryOptions={retryCount:t.fetchRetryCount??3,retryDelay:t.fetchRetryDelay??3e3,retryCheck:y},this.requestTimeout=t.requestTimeout??1e4,this.featureFlagsRequestTimeoutMs=t.featureFlagsRequestTimeoutMs??3e3,this.remoteConfigRequestTimeoutMs=t.remoteConfigRequestTimeoutMs??3e3,this.disableGeoip=t.disableGeoip??!0,this.disabled=t.disabled??!1,this.historicalMigration=t?.historicalMigration??!1,this._initPromise=Promise.resolve(),this._isInitialized=!0,this._logger=(0,c.createLogger)("[PostHog]",this.logMsgIfDebug.bind(this)),this.evaluationContexts=t?.evaluationContexts??t?.evaluationEnvironments,t?.evaluationEnvironments&&!t?.evaluationContexts&&this._logger.warn("evaluationEnvironments is deprecated. Use evaluationContexts instead. This property will be removed in a future version."),this.disableCompression=!(0,l.isGzipSupported)()||(t?.disableCompression??!1)}logMsgIfDebug(e){this.isDebug&&e()}wrap(e){return this.disabled?void this._logger.warn("The client is disabled"):this._isInitialized?e():void this._initPromise.then(()=>e())}getCommonEventProperties(){return{$lib:this.getLibraryId(),$lib_version:this.getLibraryVersion()}}get optedOut(){return this.getPersistedProperty(u.PostHogPersistedProperty.OptedOut)??!this.defaultOptIn}async optIn(){this.wrap(()=>{this.setPersistedProperty(u.PostHogPersistedProperty.OptedOut,!1)})}async optOut(){this.wrap(()=>{this.setPersistedProperty(u.PostHogPersistedProperty.OptedOut,!0)})}on(e,t){return this._events.on(e,t)}debug(e=!0){if(this.removeDebugCallback?.(),e){let e=this.on("*",(e,t)=>this._logger.info(e,t));this.removeDebugCallback=()=>{e(),this.removeDebugCallback=void 0}}}get isDebug(){return!!this.removeDebugCallback}get isDisabled(){return this.disabled}buildPayload(e){return{distinct_id:e.distinct_id,event:e.event,properties:{...e.properties||{},...this.getCommonEventProperties()}}}addPendingPromise(e){return this.promiseQueue.add(e)}identifyStateless(e,t,r){this.wrap(()=>{let o={...this.buildPayload({distinct_id:e,event:"$identify",properties:t})};this.enqueue("identify",o,r)})}async identifyStatelessImmediate(e,t,r){let o={...this.buildPayload({distinct_id:e,event:"$identify",properties:t})};await this.sendImmediate("identify",o,r)}captureStateless(e,t,r,o){this.wrap(()=>{let i=this.buildPayload({distinct_id:e,event:t,properties:r});this.enqueue("capture",i,o)})}async captureStatelessImmediate(e,t,r,o){let i=this.buildPayload({distinct_id:e,event:t,properties:r});await this.sendImmediate("capture",i,o)}aliasStateless(e,t,r,o){this.wrap(()=>{let i=this.buildPayload({event:"$create_alias",distinct_id:t,properties:{...r||{},distinct_id:t,alias:e}});this.enqueue("alias",i,o)})}async aliasStatelessImmediate(e,t,r,o){let i=this.buildPayload({event:"$create_alias",distinct_id:t,properties:{...r||{},distinct_id:t,alias:e}});await this.sendImmediate("alias",i,o)}groupIdentifyStateless(e,t,r,o,i,s){this.wrap(()=>{let n=this.buildPayload({distinct_id:i||`$${e}_${t}`,event:"$groupidentify",properties:{$group_type:e,$group_key:t,$group_set:r||{},...s||{}}});this.enqueue("capture",n,o)})}async getRemoteConfig(){await this._initPromise;let e=this.host;"https://us.i.posthog.com"===e?e="https://us-assets.i.posthog.com":"https://eu.i.posthog.com"===e&&(e="https://eu-assets.i.posthog.com");let t=`${e}/array/${this.apiKey}/config`,r={method:"GET",headers:{...this.getCustomHeaders(),"Content-Type":"application/json"}};return this.fetchWithRetry(t,r,{retryCount:0},this.remoteConfigRequestTimeoutMs).then(e=>e.json()).catch(e=>{this._logger.error("Remote config could not be loaded",e),this._events.emit("error",e)})}async getFlags(e,t={},r={},o={},i={},s=!0){await this._initPromise;let n=`${this.host}/flags/?v=2${s?"&config=true":""}`,l={token:this.apiKey,distinct_id:e,groups:t,person_properties:r,group_properties:o,...i};this.evaluationContexts&&this.evaluationContexts.length>0&&(l.evaluation_contexts=this.evaluationContexts);let u={method:"POST",headers:{...this.getCustomHeaders(),"Content-Type":"application/json"},body:JSON.stringify(l)};return this._logger.info("Flags URL",n),this.fetchWithRetry(n,u,{retryCount:0},this.featureFlagsRequestTimeoutMs).then(e=>e.json()).then(e=>({success:!0,response:(0,a.normalizeFlagsResponse)(e)})).catch(e=>(this._events.emit("error",e),{success:!1,error:this.categorizeRequestError(e)}))}categorizeRequestError(e){if(e instanceof p)return{type:"api_error",statusCode:e.status};if(e instanceof f){let t=e.error;return t instanceof Error&&("AbortError"===t.name||"TimeoutError"===t.name)?{type:"timeout"}:{type:"connection_error"}}return{type:"unknown_error"}}async getFeatureFlagStateless(e,t,r={},o={},i={},s){await this._initPromise;let n=await this.getFeatureFlagDetailStateless(e,t,r,o,i,s);if(void 0===n)return{response:void 0,requestId:void 0};let l=(0,a.getFeatureFlagValue)(n.response);return void 0===l&&(l=!1),{response:l,requestId:n.requestId}}async getFeatureFlagDetailStateless(e,t,r={},o={},i={},s){await this._initPromise;let n=await this.getFeatureFlagDetailsStateless(t,r,o,i,s,[e]);if(void 0!==n)return{response:n.flags[e],requestId:n.requestId,evaluatedAt:n.evaluatedAt}}async getFeatureFlagPayloadStateless(e,t,r={},o={},i={},s){await this._initPromise;let n=await this.getFeatureFlagPayloadsStateless(t,r,o,i,s,[e]);if(!n)return;let a=n[e];return void 0===a?null:a}async getFeatureFlagPayloadsStateless(e,t={},r={},o={},i,s){return await this._initPromise,(await this.getFeatureFlagsAndPayloadsStateless(e,t,r,o,i,s)).payloads}async getFeatureFlagsStateless(e,t={},r={},o={},i,s){return await this._initPromise,await this.getFeatureFlagsAndPayloadsStateless(e,t,r,o,i,s)}async getFeatureFlagsAndPayloadsStateless(e,t={},r={},o={},i,s){await this._initPromise;let n=await this.getFeatureFlagDetailsStateless(e,t,r,o,i,s);return n?{flags:n.featureFlags,payloads:n.featureFlagPayloads,requestId:n.requestId}:{flags:void 0,payloads:void 0,requestId:void 0}}async getFeatureFlagDetailsStateless(e,t={},r={},o={},i,s){await this._initPromise;let n={};(i??this.disableGeoip)&&(n.geoip_disable=!0),s&&(n.flag_keys_to_evaluate=s);let a=await this.getFlags(e,t,r,o,n);if(!a.success)return;let l=a.response;return(l.errorsWhileComputingFlags&&console.error("[FEATURE FLAGS] Error while computing feature flags, some flags may be missing or incorrect. Learn more at https://posthog.com/docs/feature-flags/best-practices"),l.quotaLimited?.includes("feature_flags"))?(console.warn("[FEATURE FLAGS] Feature flags quota limit exceeded - feature flags unavailable. Learn more about billing limits at https://posthog.com/docs/billing/limits-alerts"),{flags:{},featureFlags:{},featureFlagPayloads:{},requestId:l?.requestId,quotaLimited:l.quotaLimited}):l}async getSurveysStateless(){if(await this._initPromise,!0===this.disableSurveys)return this._logger.info("Loading surveys is disabled."),[];let e=`${this.host}/api/surveys/?token=${this.apiKey}`,t={method:"GET",headers:{...this.getCustomHeaders(),"Content-Type":"application/json"}},r=await this.fetchWithRetry(e,t).then(e=>{if(200!==e.status||!e.json){let t=`Surveys API could not be loaded: ${e.status}`,r=Error(t);this._logger.error(r),this._events.emit("error",Error(t));return}return e.json()}).catch(e=>{this._logger.error("Surveys API could not be loaded",e),this._events.emit("error",e)}),o=r?.surveys;return o&&this._logger.info("Surveys fetched from API: ",JSON.stringify(o)),o??[]}get props(){return this._props||(this._props=this.getPersistedProperty(u.PostHogPersistedProperty.Props)),this._props||{}}set props(e){this._props=e}async register(e){this.wrap(()=>{this.props={...this.props,...e},this.setPersistedProperty(u.PostHogPersistedProperty.Props,this.props)})}async unregister(e){this.wrap(()=>{delete this.props[e],this.setPersistedProperty(u.PostHogPersistedProperty.Props,this.props)})}processBeforeEnqueue(e){return e}enqueue(e,t,r){this.wrap(()=>{if(this.optedOut)return void this._events.emit(e,"Library is disabled. Not sending event. To re-enable, call posthog.optIn()");let o=this.prepareMessage(e,t,r);if(null===(o=this.processBeforeEnqueue(o)))return;let i=this.getPersistedProperty(u.PostHogPersistedProperty.Queue)||[];i.length>=this.maxQueueSize&&(i.shift(),this._logger.info("Queue is full, the oldest event is dropped.")),i.push({message:o}),this.setPersistedProperty(u.PostHogPersistedProperty.Queue,i),this._events.emit(e,o),i.length>=this.flushAt&&this.flushBackground(),this.flushInterval&&!this._flushTimer&&(this._flushTimer=(0,c.safeSetTimeout)(()=>this.flushBackground(),this.flushInterval))})}async sendImmediate(e,t,r){if(this.disabled)return void this._logger.warn("The client is disabled");if(this._isInitialized||await this._initPromise,this.optedOut)return void this._events.emit(e,"Library is disabled. Not sending event. To re-enable, call posthog.optIn()");let o=this.prepareMessage(e,t,r);if(null===(o=this.processBeforeEnqueue(o)))return;let i={api_key:this.apiKey,batch:[o],sent_at:(0,c.currentISOTime)()};this.historicalMigration&&(i.historical_migration=!0);let s=JSON.stringify(i),n=`${this.host}/batch/`,a=this.disableCompression?null:await (0,l.gzipCompress)(s,this.isDebug),u={method:"POST",headers:{...this.getCustomHeaders(),"Content-Type":"application/json",...null!==a&&{"Content-Encoding":"gzip"}},body:a||s};try{await this.fetchWithRetry(n,u)}catch(e){this._events.emit("error",e)}}prepareMessage(e,t,r){let o={...t,type:e,library:this.getLibraryId(),library_version:this.getLibraryVersion(),timestamp:r?.timestamp?r?.timestamp:(0,c.currentISOTime)(),uuid:r?.uuid?r.uuid:(0,d.uuidv7)()};return(r?.disableGeoip??this.disableGeoip)&&(o.properties||(o.properties={}),o.properties.$geoip_disable=!0),o.distinctId&&(o.distinct_id=o.distinctId,delete o.distinctId),o}clearFlushTimer(){this._flushTimer&&(clearTimeout(this._flushTimer),this._flushTimer=void 0)}flushBackground(){this.flush().catch(async e=>{await h(e)})}async flush(){let e=(0,c.allSettled)([this.flushPromise]).then(()=>this._flush());return this.flushPromise=e,this.addPendingPromise(e),(0,c.allSettled)([e]).then(()=>{this.flushPromise===e&&(this.flushPromise=null)}),e}getCustomHeaders(){let e=this.getCustomUserAgent(),t={};return e&&""!==e&&(t["User-Agent"]=e),t}async _flush(){this.clearFlushTimer(),await this._initPromise;let e=this.getPersistedProperty(u.PostHogPersistedProperty.Queue)||[];if(!e.length)return;let t=[],r=e.length;for(;e.length>0&&t.length<r;){let r=e.slice(0,this.maxBatchSize),o=r.map(e=>e.message),i=()=>{let t=(this.getPersistedProperty(u.PostHogPersistedProperty.Queue)||[]).slice(r.length);this.setPersistedProperty(u.PostHogPersistedProperty.Queue,t),e=t},s={api_key:this.apiKey,batch:o,sent_at:(0,c.currentISOTime)()};this.historicalMigration&&(s.historical_migration=!0);let n=JSON.stringify(s),a=`${this.host}/batch/`,d=this.disableCompression?null:await (0,l.gzipCompress)(n,this.isDebug),p={method:"POST",headers:{...this.getCustomHeaders(),"Content-Type":"application/json",...null!==d&&{"Content-Encoding":"gzip"}},body:d||n},g={retryCheck:e=>!_(e)&&y(e)};try{await this.fetchWithRetry(a,p,g)}catch(e){if(_(e)&&o.length>1){this.maxBatchSize=Math.max(1,Math.floor(o.length/2)),this._logger.warn(`Received 413 when sending batch of size ${o.length}, reducing batch size to ${this.maxBatchSize}`);continue}throw e instanceof f||i(),this._events.emit("error",e),e}i(),t.push(...o)}this._events.emit("flush",t)}async fetchWithRetry(e,t,r,i){AbortSignal.timeout??=function(e){let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal};let s=t.body?t.body:"",n=-1;try{n=s instanceof Blob?s.size:o.byteLength(s,c.STRING_FORMAT)}catch{n=s instanceof Blob?s.size:new TextEncoder().encode(s).length}return await (0,c.retriable)(async()=>{let r=null;try{r=await this.fetch(e,{signal:AbortSignal.timeout(i??this.requestTimeout),...t})}catch(e){throw new f(e)}if("no-cors"!==t.mode&&(r.status<200||r.status>=400))throw new p(r,n);return r},{...this._retryOptions,...r})}async _shutdown(e=3e4){await this._initPromise;let t=!1;this.clearFlushTimer();let r=async()=>{try{for(await this.promiseQueue.join();;){let e=this.getPersistedProperty(u.PostHogPersistedProperty.Queue)||[];if(0===e.length||(await this.flush(),t))break}}catch(e){if(!y(e))throw e;await h(e)}};return Promise.race([new Promise((r,o)=>{(0,c.safeSetTimeout)(()=>{this._logger.error("Timed out while shutting down PostHog"),t=!0,o("Timeout while shutting down PostHog. Some events may not have been sent.")},e)}),r()])}async shutdown(e=3e4){return this.shutdownPromise?this._logger.warn("shutdown() called while already shutting down. shutdown() is meant to be called once before process exit - use flush() for per-request cleanup"):this.shutdownPromise=this._shutdown(e).finally(()=>{this.shutdownPromise=null}),this.shutdownPromise}}for(var P in t.PostHogCoreStateless=s.PostHogCoreStateless,t.QuotaLimitedFeature=s.QuotaLimitedFeature,t.logFlushError=s.logFlushError,t.maybeAdd=s.maybeAdd,s)-1===["PostHogCoreStateless","QuotaLimitedFeature","logFlushError","maybeAdd"].indexOf(P)&&(t[P]=s[P]);Object.defineProperty(t,"__esModule",{value:!0})},81730:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_PERSON_INFO=t.INITIAL_REFERRER_INFO=t.INITIAL_CAMPAIGN_PARAMS=t.CAPTURE_RATE_LIMIT=t.CLIENT_SESSION_PROPS=t.USER_STATE=t.FLAG_CALL_REPORTED=t.CONVERSATIONS=t.PRODUCT_TOURS_ACTIVATED=t.SURVEYS_ACTIVATED=t.SURVEYS=t.STORED_GROUP_PROPERTIES_KEY=t.STORED_PERSON_PROPERTIES_KEY=t.PERSISTENCE_FEATURE_FLAG_DETAILS=t.PERSISTENCE_EARLY_ACCESS_FEATURES=t.ENABLED_FEATURE_FLAGS=t.SESSION_RECORDING_FIRST_FULL_SNAPSHOT_TIMESTAMP=t.SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION=t.SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION=t.SESSION_RECORDING_PAST_MINIMUM_DURATION=t.SESSION_RECORDING_IS_SAMPLED=t.SESSION_ID=t.SESSION_RECORDING_OVERRIDE_EVENT_TRIGGER=t.SESSION_RECORDING_OVERRIDE_URL_TRIGGER=t.SESSION_RECORDING_OVERRIDE_LINKED_FLAG=t.SESSION_RECORDING_OVERRIDE_SAMPLING=t.SESSION_RECORDING_SCRIPT_CONFIG=t.SESSION_RECORDING_MINIMUM_DURATION=t.SESSION_RECORDING_SAMPLE_RATE=t.SESSION_RECORDING_CANVAS_RECORDING=t.SESSION_RECORDING_MASKING=t.SESSION_RECORDING_NETWORK_PAYLOAD_CAPTURE=t.CONSOLE_LOG_RECORDING_ENABLED_SERVER_SIDE=t.SESSION_RECORDING_ENABLED_SERVER_SIDE=t.SESSION_RECORDING_REMOTE_CONFIG=t.WEB_VITALS_ALLOWED_METRICS=t.PRODUCT_TOURS_ENABLED_SERVER_SIDE=t.DEAD_CLICKS_ENABLED_SERVER_SIDE=t.WEB_VITALS_ENABLED_SERVER_SIDE=t.ERROR_TRACKING_CAPTURE_EXTENSION_EXCEPTIONS=t.ERROR_TRACKING_SUPPRESSION_RULES=t.EXCEPTION_CAPTURE_ENABLED_SERVER_SIDE=t.HEATMAPS_ENABLED_SERVER_SIDE=t.AUTOCAPTURE_DISABLED_SERVER_SIDE=t.EVENT_TIMERS_KEY=t.CAMPAIGN_IDS_KEY=t.ALIAS_ID_KEY=t.DEVICE_ID=t.DISTINCT_ID=t.PEOPLE_DISTINCT_ID_KEY=void 0,t.SURVEYS_REQUEST_TIMEOUT_MS=t.PERSISTENCE_RESERVED_PROPERTIES=t.WEB_EXPERIMENTS=t.COOKIELESS_MODE_FLAG_PROPERTY=t.COOKIELESS_SENTINEL_VALUE=t.TOOLBAR_CONTAINER_CLASS=t.TOOLBAR_ID=t.ENABLE_PERSON_PROCESSING=void 0,t.PEOPLE_DISTINCT_ID_KEY="$people_distinct_id",t.DISTINCT_ID="distinct_id",t.DEVICE_ID="$device_id",t.ALIAS_ID_KEY="__alias",t.CAMPAIGN_IDS_KEY="__cmpns",t.EVENT_TIMERS_KEY="__timers",t.AUTOCAPTURE_DISABLED_SERVER_SIDE="$autocapture_disabled_server_side",t.HEATMAPS_ENABLED_SERVER_SIDE="$heatmaps_enabled_server_side",t.EXCEPTION_CAPTURE_ENABLED_SERVER_SIDE="$exception_capture_enabled_server_side",t.ERROR_TRACKING_SUPPRESSION_RULES="$error_tracking_suppression_rules",t.ERROR_TRACKING_CAPTURE_EXTENSION_EXCEPTIONS="$error_tracking_capture_extension_exceptions",t.WEB_VITALS_ENABLED_SERVER_SIDE="$web_vitals_enabled_server_side",t.DEAD_CLICKS_ENABLED_SERVER_SIDE="$dead_clicks_enabled_server_side",t.PRODUCT_TOURS_ENABLED_SERVER_SIDE="$product_tours_enabled_server_side",t.WEB_VITALS_ALLOWED_METRICS="$web_vitals_allowed_metrics",t.SESSION_RECORDING_REMOTE_CONFIG="$session_recording_remote_config",t.SESSION_RECORDING_ENABLED_SERVER_SIDE="$session_recording_enabled_server_side",t.CONSOLE_LOG_RECORDING_ENABLED_SERVER_SIDE="$console_log_recording_enabled_server_side",t.SESSION_RECORDING_NETWORK_PAYLOAD_CAPTURE="$session_recording_network_payload_capture",t.SESSION_RECORDING_MASKING="$session_recording_masking",t.SESSION_RECORDING_CANVAS_RECORDING="$session_recording_canvas_recording",t.SESSION_RECORDING_SAMPLE_RATE="$replay_sample_rate",t.SESSION_RECORDING_MINIMUM_DURATION="$replay_minimum_duration",t.SESSION_RECORDING_SCRIPT_CONFIG="$replay_script_config",t.SESSION_RECORDING_OVERRIDE_SAMPLING="$replay_override_sampling",t.SESSION_RECORDING_OVERRIDE_LINKED_FLAG="$replay_override_linked_flag",t.SESSION_RECORDING_OVERRIDE_URL_TRIGGER="$replay_override_url_trigger",t.SESSION_RECORDING_OVERRIDE_EVENT_TRIGGER="$replay_override_event_trigger",t.SESSION_ID="$sesid",t.SESSION_RECORDING_IS_SAMPLED="$session_is_sampled",t.SESSION_RECORDING_PAST_MINIMUM_DURATION="$session_past_minimum_duration",t.SESSION_RECORDING_URL_TRIGGER_ACTIVATED_SESSION="$session_recording_url_trigger_activated_session",t.SESSION_RECORDING_EVENT_TRIGGER_ACTIVATED_SESSION="$session_recording_event_trigger_activated_session",t.SESSION_RECORDING_FIRST_FULL_SNAPSHOT_TIMESTAMP="$debug_first_full_snapshot_timestamp",t.ENABLED_FEATURE_FLAGS="$enabled_feature_flags",t.PERSISTENCE_EARLY_ACCESS_FEATURES="$early_access_features",t.PERSISTENCE_FEATURE_FLAG_DETAILS="$feature_flag_details",t.STORED_PERSON_PROPERTIES_KEY="$stored_person_properties",t.STORED_GROUP_PROPERTIES_KEY="$stored_group_properties",t.SURVEYS="$surveys",t.SURVEYS_ACTIVATED="$surveys_activated",t.PRODUCT_TOURS_ACTIVATED="$product_tours_activated",t.CONVERSATIONS="$conversations",t.FLAG_CALL_REPORTED="$flag_call_reported",t.USER_STATE="$user_state",t.CLIENT_SESSION_PROPS="$client_session_props",t.CAPTURE_RATE_LIMIT="$capture_rate_limit",t.INITIAL_CAMPAIGN_PARAMS="$initial_campaign_params",t.INITIAL_REFERRER_INFO="$initial_referrer_info",t.INITIAL_PERSON_INFO="$initial_person_info",t.ENABLE_PERSON_PROCESSING="$epp",t.TOOLBAR_ID="__POSTHOG_TOOLBAR__",t.TOOLBAR_CONTAINER_CLASS="toolbar-global-fade-container",t.COOKIELESS_SENTINEL_VALUE="$posthog_cookieless",t.COOKIELESS_MODE_FLAG_PROPERTY="$cookieless_mode",t.WEB_EXPERIMENTS="$web_experiments",t.PERSISTENCE_RESERVED_PROPERTIES=[t.PEOPLE_DISTINCT_ID_KEY,t.ALIAS_ID_KEY,t.CAMPAIGN_IDS_KEY,t.EVENT_TIMERS_KEY,t.SESSION_RECORDING_ENABLED_SERVER_SIDE,t.HEATMAPS_ENABLED_SERVER_SIDE,t.SESSION_ID,t.ENABLED_FEATURE_FLAGS,t.ERROR_TRACKING_SUPPRESSION_RULES,t.USER_STATE,t.PERSISTENCE_EARLY_ACCESS_FEATURES,t.PERSISTENCE_FEATURE_FLAG_DETAILS,t.STORED_GROUP_PROPERTIES_KEY,t.STORED_PERSON_PROPERTIES_KEY,t.SURVEYS,t.FLAG_CALL_REPORTED,t.CLIENT_SESSION_PROPS,t.CAPTURE_RATE_LIMIT,t.INITIAL_CAMPAIGN_PARAMS,t.INITIAL_REFERRER_INFO,t.ENABLE_PERSON_PROCESSING,t.INITIAL_PERSON_INFO,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"],t.SURVEYS_REQUEST_TIMEOUT_MS=1e4},84939:function(e,t,r){var o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,s=r.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)n.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return n},i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var o,i=0,s=t.length;i<s;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLogger=t.logger=void 0;var n=s(r(27499)),a=r(75712),l=r(24777),u=function(e,t){var r=(void 0===t?{}:t).debugEnabled,s={_log:function(t){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];l.window&&(n.default.DEBUG||l.assignableWindow.POSTHOG_DEBUG||r)&&!(0,a.isUndefined)(l.window.console)&&l.window.console&&("__rrweb_original__"in l.window.console[t]?l.window.console[t].__rrweb_original__:l.window.console[t]).apply(void 0,i([e],o(s),!1))},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s._log.apply(s,i(["log"],o(e),!1))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s._log.apply(s,i(["warn"],o(e),!1))},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s._log.apply(s,i(["error"],o(e),!1))},critical:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];console.error.apply(console,i([e],o(t),!1))},uninitializedWarning:function(e){s.error("You must initialize PostHog before calling ".concat(e))},createLogger:function(t,r){return u("".concat(e," ").concat(t),r)}};return s};t.logger=u("[PostHog.js]"),t.createLogger=t.logger.createLogger},85635:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{opera11StackLineParser:()=>u,opera10StackLineParser:()=>a});let s=r(63721),n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,a=(e,t)=>{let r=n.exec(e);return r?(0,s.createFrame)(t,r[2],r[3]||s.UNKNOWN_FUNCTION,+r[1]):void 0},l=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,u=(e,t)=>{let r=l.exec(e);return r?(0,s.createFrame)(t,r[5],r[3]||r[4]||s.UNKNOWN_FUNCTION,+r[1],+r[2]):void 0};for(var c in t.opera10StackLineParser=i.opera10StackLineParser,t.opera11StackLineParser=i.opera11StackLineParser,i)-1===["opera10StackLineParser","opera11StackLineParser"].indexOf(c)&&(t[c]=i[c]);Object.defineProperty(t,"__esModule",{value:!0})},87723:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{clampToRange:()=>function e(t,r,o,i,n){if(r>o&&(i.warn("min cannot be greater than max."),r=o),(0,s.isNumber)(t))if(t>o)return i.warn(" cannot be  greater than max: "+o+". Using max value instead."),o;else return t<r?(i.warn(" cannot be less than min: "+r+". Using min value instead."),r):t;return i.warn(" must be a number. using max or fallback. max: "+o+", fallback: "+n),e(n||o,r,o,i)}});let s=r(21926);for(var n in t.clampToRange=i.clampToRange,i)-1===["clampToRange"].indexOf(n)&&(t[n]=i[n]);Object.defineProperty(t,"__esModule",{value:!0})},88107:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{BucketedRateLimiter:()=>n});let s=r(87723);class n{constructor(e){this._buckets={},this._onBucketRateLimited=e._onBucketRateLimited,this._bucketSize=(0,s.clampToRange)(e.bucketSize,0,100,e._logger),this._refillRate=(0,s.clampToRange)(e.refillRate,0,this._bucketSize,e._logger),this._refillInterval=(0,s.clampToRange)(e.refillInterval,0,864e5,e._logger)}_applyRefill(e,t){let r=Math.floor((t-e.lastAccess)/this._refillInterval);if(r>0){let t=r*this._refillRate;e.tokens=Math.min(e.tokens+t,this._bucketSize),e.lastAccess=e.lastAccess+r*this._refillInterval}}consumeRateLimit(e){let t=Date.now(),r=String(e),o=this._buckets[r];return o?this._applyRefill(o,t):(o={tokens:this._bucketSize,lastAccess:t},this._buckets[r]=o),0===o.tokens||(o.tokens--,0===o.tokens&&this._onBucketRateLimited?.(e),0===o.tokens)}stop(){this._buckets={}}}for(var a in t.BucketedRateLimiter=i.BucketedRateLimiter,i)-1===["BucketedRateLimiter"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},88985:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{detectDeviceType:()=>er,detectOS:()=>ee,detectDevice:()=>et,detectBrowser:()=>Y,detectBrowserVersion:()=>X});let s=r(35891),n=r(21926),a="Mobile",l="Android",u="Tablet",c=l+" "+u,d="iPad",p="Apple",f=p+" Watch",g="Safari",h="BlackBerry",y="Samsung",_=y+"Browser",m=y+" Internet",v="Chrome",P=v+" OS",S=v+" iOS",b="Internet Explorer",E=b+" "+a,O="Opera",R=O+" Mini",I="Edge",T="Microsoft "+I,F="Firefox",w=F+" iOS",A="Nintendo",N="PlayStation",x="Xbox",j=l+" "+a,C=a+" "+g,M="Windows",k=M+" Phone",D="Nokia",L="Ouya",$="Generic",U=$+" "+a.toLowerCase(),G=$+" "+u.toLowerCase(),B="Konqueror",V="(\\d+(\\.\\d+)?)",H=RegExp("Version/"+V),K=RegExp(x,"i"),z=RegExp(N+" \\w+","i"),q=RegExp(A+" \\w+","i"),W=RegExp(h+"|PlayBook|BB10","i"),Q={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000","5.1":"XP","5.2":"XP","6.0":"Vista","6.1":"7","6.2":"8","6.3":"8.1","6.4":"10","10.0":"10"},Y=function(e,t){if(t=t||"",(0,s.includes)(e," OPR/")&&(0,s.includes)(e,"Mini"))return R;if((0,s.includes)(e," OPR/"))return O;if(W.test(e))return h;if((0,s.includes)(e,"IE"+a)||(0,s.includes)(e,"WPDesktop"))return E;if((0,s.includes)(e,_))return m;if((0,s.includes)(e,I)||(0,s.includes)(e,"Edg/"))return T;if((0,s.includes)(e,"FBIOS"))return"Facebook "+a;{let r;if((0,s.includes)(e,"UCWEB")||(0,s.includes)(e,"UCBrowser"))return"UC Browser";if((0,s.includes)(e,"CriOS"))return S;if((0,s.includes)(e,"CrMo")||(0,s.includes)(e,v))return v;if((0,s.includes)(e,l)&&(0,s.includes)(e,g))return j;if((0,s.includes)(e,"FxiOS"))return w;if((0,s.includes)(e.toLowerCase(),B.toLowerCase()))return B;if((r=t)&&(0,s.includes)(r,p)||(0,s.includes)(e,g)&&!(0,s.includes)(e,v)&&!(0,s.includes)(e,l))return(0,s.includes)(e,a)?C:g;if((0,s.includes)(e,F))return F;else if((0,s.includes)(e,"MSIE")||(0,s.includes)(e,"Trident/"))return b;else if((0,s.includes)(e,"Gecko"))return F}return""},J={[E]:[RegExp("rv:"+V)],[T]:[RegExp(I+"?\\/"+V)],[v]:[RegExp("("+v+"|CrMo)\\/"+V)],[S]:[RegExp("CriOS\\/"+V)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+V)],[g]:[H],[C]:[H],[O]:[RegExp("("+O+"|OPR)\\/"+V)],[F]:[RegExp(F+"\\/"+V)],[w]:[RegExp("FxiOS\\/"+V)],[B]:[RegExp("Konqueror[:/]?"+V,"i")],[h]:[RegExp(h+" "+V),H],[j]:[RegExp("android\\s"+V,"i")],[m]:[RegExp(_+"\\/"+V)],[b]:[RegExp("(rv:|MSIE )"+V)],Mozilla:[RegExp("rv:"+V)]},X=function(e,t){let r=J[Y(e,t)];if((0,n.isUndefined)(r))return null;for(let t=0;t<r.length;t++){let o=r[t],i=e.match(o);if(i)return parseFloat(i[i.length-2])}return null},Z=[[RegExp(x+"; "+x+" (.*?)[);]","i"),e=>[x,e&&e[1]||""]],[RegExp(A,"i"),[A,""]],[RegExp(N,"i"),[N,""]],[W,[h,""]],[RegExp(M,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[k,""];if(new RegExp(a).test(t)&&!/IEMobile\b/.test(t))return[M+" "+a,""];let r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){let e=Q[r[1]]||"";return/arm/i.test(t)&&(e="RT"),[M,e]}return[M,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{let t="";return e&&e.length>=3&&(t=(0,n.isUndefined)(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+l+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+l+")","i"),e=>e&&e[2]?[l,[e[2],e[3],e[4]||"0"].join(".")]:[l,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{let t=["Mac OS X",""];if(e&&e[1]){let r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[P,""]],[/Linux|debian/i,["Linux",""]]],ee=function(e){for(let t=0;t<Z.length;t++){let[r,o]=Z[t],i=r.exec(e),s=i&&((0,n.isFunction)(o)?o(i,e):o);if(s)return s}return["",""]},et=function(e){if(q.test(e))return A;if(z.test(e))return N;if(K.test(e))return x;if(RegExp(L,"i").test(e))return L;if(RegExp("("+k+"|WPDesktop)","i").test(e))return k;if(/iPad/.test(e))return d;if(/iPod/.test(e))return"iPod Touch";if(/iPhone/.test(e))return"iPhone";if(/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e))return f;else if(W.test(e))return h;else if(/(kobo)\s(ereader|touch)/i.test(e))return"Kobo";else if(RegExp(D,"i").test(e))return D;else if(/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e))return"Kindle Fire";else if(/(Android|ZTE)/i.test(e))if(!(!new RegExp(a).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)))return l;else return/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?l:c;else if(RegExp("(pda|"+a+")","i").test(e))return U;else if(RegExp(u,"i").test(e)&&!RegExp(u+" pc","i").test(e))return G;else return""},er=function(e){let t=et(e);return t===d||t===c||"Kobo"===t||"Kindle Fire"===t||t===G?u:t===A||t===x||t===N||t===L?"Console":t===f?"Wearable":t?a:"Desktop"};for(var eo in t.detectBrowser=i.detectBrowser,t.detectBrowserVersion=i.detectBrowserVersion,t.detectDevice=i.detectDevice,t.detectDeviceType=i.detectDeviceType,t.detectOS=i.detectOS,i)-1===["detectBrowser","detectBrowserVersion","detectDevice","detectDeviceType","detectOS"].indexOf(eo)&&(t[eo]=i[eo]);Object.defineProperty(t,"__esModule",{value:!0})},91415:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{ErrorEventCoercer:()=>n});let s=r(58738);class n{constructor(){}match(e){return(0,s.isErrorEvent)(e)&&void 0!=e.error}coerce(e,t){let r=t.apply(e.error);return r||{type:"ErrorEvent",value:e.message,stack:t.syntheticException?.stack,synthetic:!0}}}for(var a in t.ErrorEventCoercer=i.ErrorEventCoercer,i)-1===["ErrorEventCoercer"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},91476:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{reverseAndStripFrames:()=>p,winjsStackLineParser:()=>l.winjsStackLineParser,nodeStackLineParser:()=>c.nodeStackLineParser,createDefaultStackParser:()=>f,geckoStackLineParser:()=>a.geckoStackLineParser,opera10StackLineParser:()=>u.opera10StackLineParser,opera11StackLineParser:()=>u.opera11StackLineParser,chromeStackLineParser:()=>n.chromeStackLineParser,createStackParser:()=>g});let s=r(63721),n=r(42226),a=r(33983),l=r(10701),u=r(85635),c=r(36412),d=/\(error: (.*)\)/;function p(e){if(!e.length)return[];let t=Array.from(e);return t.reverse(),t.slice(0,50).map(e=>{var r;return{...e,filename:e.filename||((r=t)[r.length-1]||{}).filename,function:e.function||s.UNKNOWN_FUNCTION}})}function f(){return g("web:javascript",n.chromeStackLineParser,a.geckoStackLineParser)}function g(e,...t){return(r,o=0)=>{let i=[],s=r.split("\n");for(let r=o;r<s.length;r++){let o=s[r];if(o.length>1024)continue;let n=d.test(o)?o.replace(d,"$1"):o;if(!n.match(/\S*Error: /)){for(let r of t){let t=r(n,e);if(t){i.push(t);break}}if(i.length>=50)break}}return p(i)}}for(var h in t.chromeStackLineParser=i.chromeStackLineParser,t.createDefaultStackParser=i.createDefaultStackParser,t.createStackParser=i.createStackParser,t.geckoStackLineParser=i.geckoStackLineParser,t.nodeStackLineParser=i.nodeStackLineParser,t.opera10StackLineParser=i.opera10StackLineParser,t.opera11StackLineParser=i.opera11StackLineParser,t.reverseAndStripFrames=i.reverseAndStripFrames,t.winjsStackLineParser=i.winjsStackLineParser,i)-1===["chromeStackLineParser","createDefaultStackParser","createStackParser","geckoStackLineParser","nodeStackLineParser","opera10StackLineParser","opera11StackLineParser","reverseAndStripFrames","winjsStackLineParser"].indexOf(h)&&(t[h]=i[h]);Object.defineProperty(t,"__esModule",{value:!0})},92212:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setAllPersonProfilePropertiesAsPersonPropertiesForFlags=void 0;var o=r(27413),i=r(5453),s=r(75712);t.setAllPersonProfilePropertiesAsPersonPropertiesForFlags=function(e){var t=(0,i.extend)({},(0,o.getEventProperties)(e.config.mask_personal_data_properties,e.config.custom_personal_data_properties),(0,o.getCampaignParams)(e.config.custom_campaign_params,e.config.mask_personal_data_properties,e.config.custom_personal_data_properties),(0,o.getReferrerInfo)()),r={};(0,i.each)(t,function(e,t){((0,s.includes)(o.CAMPAIGN_PARAMS,t)||(0,s.includes)(o.EVENT_TO_PERSON_PROPERTIES,t))&&(r[t]=e)}),e.setPersonPropertiesForFlags(r)}},94294:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{ErrorCoercer:()=>n});let s=r(58738);class n{match(e){return(0,s.isPlainError)(e)}coerce(e,t){return{type:this.getType(e),value:this.getMessage(e,t),stack:this.getStack(e),cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,t){let r=e.message;return r.error&&"string"==typeof r.error.message?String(r.error.message):String(r)}getStack(e){return e.stacktrace||e.stack||void 0}}for(var a in t.ErrorCoercer=i.ErrorCoercer,i)-1===["ErrorCoercer"].indexOf(a)&&(t[a]=i[a]);Object.defineProperty(t,"__esModule",{value:!0})},95130:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{ReduceableCache:()=>i});class i{constructor(e){this._maxSize=e,this._cache=new Map}get(e){let t=this._cache.get(e);if(void 0!==t)return this._cache.delete(e),this._cache.set(e,t),t}set(e,t){this._cache.set(e,t)}reduce(){for(;this._cache.size>=this._maxSize;){let e=this._cache.keys().next().value;e&&this._cache.delete(e)}}}for(var s in t.ReduceableCache=o.ReduceableCache,o)-1===["ReduceableCache"].indexOf(s)&&(t[s]=o[s]);Object.defineProperty(t,"__esModule",{value:!0})},96618:(e,t)=>{var r={};r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{_createLogger:()=>i,createLogger:()=>n});let i=(e,t,r)=>{function o(i,...s){t(()=>{(0,r[i])(e,...s)})}return{info:(...e)=>{o("log",...e)},warn:(...e)=>{o("warn",...e)},error:(...e)=>{o("error",...e)},critical:(...t)=>{r.error(e,...t)},createLogger:o=>i(`${e} ${o}`,t,r)}},s=e=>e();function n(e,t=s){return i(e,t,function(e=console){return{log:e.log.bind(e),warn:e.warn.bind(e),error:e.error.bind(e),debug:e.debug.bind(e)}}())}for(var a in t._createLogger=o._createLogger,t.createLogger=o.createLogger,o)-1===["_createLogger","createLogger"].indexOf(a)&&(t[a]=o[a]);Object.defineProperty(t,"__esModule",{value:!0})},99163:(e,t,r)=>{var o={};o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{ErrorPropertiesBuilder:()=>a});let s=r(58738),n=r(28265);class a{constructor(e,t,r=[]){this.coercers=e,this.stackParser=t,this.modifiers=r}buildFromUnknown(e,t={}){let r=t&&t.mechanism||{handled:!0,type:"generic"},o=this.buildCoercingContext(r,t,0).apply(e),i=this.buildParsingContext(),s=this.parseStacktrace(o,i);return{$exception_list:this.convertToExceptionList(s,r),$exception_level:"error"}}async modifyFrames(e){for(let t of e)t.stacktrace&&t.stacktrace.frames&&(0,s.isArray)(t.stacktrace.frames)&&(t.stacktrace.frames=await this.applyModifiers(t.stacktrace.frames));return e}coerceFallback(e){return{type:"Error",value:"Unknown error",stack:e.syntheticException?.stack,synthetic:!0}}parseStacktrace(e,t){let r,o;return null!=e.cause&&(r=this.parseStacktrace(e.cause,t)),""!=e.stack&&null!=e.stack&&(o=this.applyChunkIds(this.stackParser(e.stack,+!!e.synthetic),t.chunkIdMap)),{...e,cause:r,stack:o}}applyChunkIds(e,t){return e.map(e=>(e.filename&&t&&(e.chunk_id=t[e.filename]),e))}applyCoercers(e,t){for(let r of this.coercers)if(r.match(e))return r.coerce(e,t);return this.coerceFallback(t)}async applyModifiers(e){let t=e;for(let e of this.modifiers)t=await e(t);return t}convertToExceptionList(e,t){let r={type:e.type,value:e.value,mechanism:{type:t.type??"generic",handled:t.handled??!0,synthetic:e.synthetic??!1}};e.stack&&(r.stacktrace={type:"raw",frames:e.stack});let o=[r];return null!=e.cause&&o.push(...this.convertToExceptionList(e.cause,{...t,handled:!0})),o}buildParsingContext(){return{chunkIdMap:(0,n.getFilenameToChunkIdMap)(this.stackParser)}}buildCoercingContext(e,t,r=0){let o=(r,o)=>{if(o<=4){let i=this.buildCoercingContext(e,t,o);return this.applyCoercers(r,i)}};return{...t,syntheticException:0==r?t.syntheticException:void 0,mechanism:e,apply:e=>o(e,r),next:e=>o(e,r+1)}}}for(var l in t.ErrorPropertiesBuilder=i.ErrorPropertiesBuilder,i)-1===["ErrorPropertiesBuilder"].indexOf(l)&&(t[l]=i[l]);Object.defineProperty(t,"__esModule",{value:!0})}}]);
//# chunkId=019c97ba-c7ad-7aa1-a8bc-758b1ebf8d03